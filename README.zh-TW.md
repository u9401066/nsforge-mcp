# ğŸ”¥ Neurosymbolic Forge (NSForge)

> **"Forge" = é€éé©—è­‰å¼æ¨å°ä¾†å‰µé€ æ–°å…¬å¼**

[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](LICENSE)
[![Python](https://img.shields.io/badge/Python-3.12+-green.svg)](https://www.python.org/)
[![MCP](https://img.shields.io/badge/MCP-Compatible-purple.svg)](https://modelcontextprotocol.io/)

ğŸŒ [English](README.md) | **ç¹é«”ä¸­æ–‡**

## ğŸ”¨ æ ¸å¿ƒæ¦‚å¿µï¼šã€ŒForgeï¼ˆé›é€ ï¼‰ã€

**NSForge ä¸æ˜¯å…¬å¼è³‡æ–™åº«** â€” è€Œæ˜¯ä¸€å€‹**æ¨å°å·¥å» **ï¼Œç”¨ä¾†å‰µé€ æ–°å…¬å¼ã€‚

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ğŸ”¨ FORGE = é€éæ¨å°å‰µé€ æ–°å…¬å¼                                              â”‚
â”‚                                                                             â”‚
â”‚   è¼¸å…¥ï¼šåŸºç¤å…¬å¼                è¼¸å‡ºï¼šæ–°çš„æ¨å°å…¬å¼                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚ â€¢ ä¸€å®¤æ¨¡å‹          â”‚       â”‚ æº«åº¦ä¿®æ­£æ¶ˆé™¤ç‡æ¨¡å‹                   â”‚    â”‚
â”‚   â”‚ â€¢ Arrhenius æ–¹ç¨‹    â”‚  â”€â”€â†’  â”‚ é«”è„‚èª¿æ•´åˆ†å¸ƒå®¹ç©                     â”‚    â”‚
â”‚   â”‚ â€¢ Fick æ“´æ•£å®šå¾‹     â”‚       â”‚ è…åŠŸèƒ½åŠ‘é‡èª¿æ•´                       â”‚    â”‚
â”‚   â”‚ â€¢ ...               â”‚       â”‚ è‡ªè¨‚ PK/PD æ¨¡å‹                      â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚         (ä¾†è‡ª sympy-mcp)                    (å­˜æ”¾æ–¼ NSForge)               â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš¡ å››å¤§æ ¸å¿ƒèƒ½åŠ›

| èƒ½åŠ› | èªªæ˜ | å·¥å…· |
| ---- | ---- | ---- |
| **æ¨å° (DERIVE)** | çµ„åˆåŸºç¤å…¬å¼å‰µé€ æ–°å…¬å¼ | `substitute`, `simplify`, `differentiate`, `integrate` |
| **æ§åˆ¶ (CONTROL)** | å®Œæ•´æ­¥é©Ÿæ§åˆ¶ï¼šæŸ¥çœ‹ã€ç·¨è¼¯ã€å›æ»¾ã€æ’å…¥ | `get_step`, `update_step`, `rollback`, `delete_step`, `insert_note` |
| **é©—è­‰ (VERIFY)** | å¤šç¨®æ–¹æ³•ç¢ºä¿æ­£ç¢ºæ€§ | `check_dimensions`, `verify_derivative`, `symbolic_equal` |
| **å­˜å„² (STORE)** | ä¿å­˜æ¨å°å…¬å¼èˆ‡å®Œæ•´æº¯æº | `formulas/derivations/` å„²å­˜åº« |

---

## ï¿½ ç”Ÿæ…‹ç³»ï¼šä¸é‡è¤‡é€ è¼ªå­

NSForge èˆ‡å…¶ä»– MCP ä¼ºæœå™¨å”ä½œï¼Œè€Œéç«¶çˆ­ï¼š

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         MCP å…¬å¼ç”Ÿæ…‹ç³»                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  sympy-mcp                                                                  â”‚
â”‚  â””â”€â”€ åŸºç¤å…¬å¼ï¼šF=maã€PV=nRTã€Arrhenius...                                   â”‚
â”‚  â””â”€â”€ ç‰©ç†å¸¸æ•¸ï¼šcã€Gã€hã€R...ï¼ˆSciPy CODATAï¼‰                                â”‚
â”‚  â””â”€â”€ ç¬¦è™Ÿé‹ç®—å¼•æ“                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  medical-calc-mcpï¼ˆ75+ å·¥å…·ï¼‰                                                â”‚
â”‚  â””â”€â”€ è‡¨åºŠè©•åˆ†ï¼šAPACHEã€SOFAã€GCSã€MELDã€qSOFA...                            â”‚
â”‚  â””â”€â”€ é†«å­¸è¨ˆç®—ï¼šeGFRã€IBWã€BSAã€MEWS...                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  nsforge-mcp â† ä½ åœ¨é€™è£¡                                                      â”‚
â”‚  â””â”€â”€ ğŸ”¨ æ¨å°æ¡†æ¶ï¼šçµ„åˆã€é©—è­‰ã€ç”Ÿæˆç¨‹å¼ç¢¼                                     â”‚
â”‚  â””â”€â”€ ğŸ“ æ¨å°æˆæœåº«ï¼šå­˜æ”¾å‰µé€ çš„å…¬å¼èˆ‡æº¯æºè³‡è¨Š                                 â”‚
â”‚  â””â”€â”€ âœ… é©—è­‰å±¤ï¼šç¶­åº¦åˆ†æã€é€†å‘é©—è­‰                                          â”‚
â”‚  â””â”€â”€ ğŸ”— å„ªåŒ–æ©‹æ¥ï¼šç‚º USolver æº–å‚™å…¬å¼ï¼ˆå¯é¸å”ä½œï¼‰                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  usolver-mcpï¼ˆå¯é¸å”ä½œï¼‰                                                     â”‚
â”‚  â””â”€â”€ ğŸ¯ ç‚º NSForge æ¨å°çš„å…¬å¼æ‰¾åˆ°æœ€ä½³å€¼                                      â”‚
â”‚  â””â”€â”€ å››ç¨®æ±‚è§£å™¨ï¼šZ3ã€OR-Toolsã€CVXPYã€HiGHS                                 â”‚
â”‚  â””â”€â”€ ç”¨ä¾‹ï¼šè—¥ç‰©åŠ‘é‡å„ªåŒ–ã€é›»è·¯è¨­è¨ˆã€è³‡æºåˆ†é…                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### NSForge å­˜æ”¾ä»€éº¼ï¼Ÿ

| âœ… å±¬æ–¼ NSForge | âŒ ä¸å±¬æ–¼ï¼ˆè«‹ç”¨å…¶ä»–å·¥å…·ï¼‰ |
| --------------- | ------------------------ |
| æº«åº¦ä¿®æ­£è—¥ç‰©æ¶ˆé™¤ç‡ | åŸºç¤ç‰©ç†å…¬å¼ï¼ˆsympy-mcpï¼‰ |
| é«”è„‚èª¿æ•´åˆ†å¸ƒå®¹ç© | ç‰©ç†å¸¸æ•¸ï¼ˆsympy-mcpï¼‰ |
| è…åŠŸèƒ½åŠ‘é‡èª¿æ•´ | è‡¨åºŠè©•åˆ†ï¼ˆmedical-calc-mcpï¼‰ |
| è‡ªè¨‚è¤‡åˆ PK/PD æ¨¡å‹ | æ•™ç§‘æ›¸å…¬å¼ï¼ˆåƒè€ƒè³‡æ–™ï¼‰ |

---

## ğŸš€ NSForge ç¨ç‰¹åŠŸèƒ½

NSForge ç›´æ¥èª¿ç”¨ SymPy æ¨¡çµ„ï¼Œæä¾› **SymPy-MCP æ²’æœ‰çš„åŠŸèƒ½**ï¼š

| åŠŸèƒ½ | SymPy æ¨¡çµ„ | æ‡‰ç”¨å ´æ™¯ | ç‹€æ…‹ |
| ---- | ---------- | -------- | ---- |
| **çµ±è¨ˆèˆ‡æ©Ÿç‡** | `sympy.stats` | PopPK è®Šç•°åˆ†æã€ä¸ç¢ºå®šæ€§ | âœ… v0.2.1 |
| **æ¥µé™èˆ‡ç´šæ•¸** | `sympy.limit`, `sympy.series` | ç©©æ…‹è¿‘ä¼¼ã€ç´¯ç©åˆ†æ | âœ… v0.2.1 |
| **ä¸ç­‰å¼æ±‚è§£** | `sympy.solvers.inequalities` | æ²»ç™‚çª—å£è¨ˆç®— | âœ… v0.2.1 |
| **å‡è¨­æŸ¥è©¢** | `sympy.assumptions` | è‡ªå‹•é©—è­‰ç´„æŸ | âœ… v0.2.1 |
| **æ¨å°å·¥ä½œæµ** | NSForge ç¨æœ‰ | æ­¥é©Ÿè¿½è¹¤ã€æº¯æº | âœ… å¯ç”¨ |
| **é©—è­‰å¥—ä»¶** | NSForge ç¨æœ‰ | ç¶­åº¦åˆ†æ | âœ… å¯ç”¨ |

> ğŸ“– **è©³ç´°èªªæ˜**ï¼šåƒè¦‹ [NSForge vs SymPy-MCP åŠŸèƒ½æ¯”è¼ƒ](docs/nsforge-vs-sympy-mcp.md)ã€‚

---

## ğŸ¬ å·¥ä½œæµç¨‹åœ–

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                            â”‚
â”‚   ç”¨æˆ¶å•é¡Œ                        NSForge è™•ç†æµç¨‹                          â”‚
â”‚   â•â•â•â•â•â•â•â•                        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                          â”‚
â”‚                                                                            â”‚
â”‚   "è—¥ç‰©åœ¨ 38Â°C ç™¼ç‡’ç—…äºº           1ï¸âƒ£ æŸ¥è©¢å…¬å¼çŸ¥è­˜åº«                          â”‚
â”‚    é«”å…§çš„æ¿ƒåº¦è®ŠåŒ–ï¼Ÿ"         â”€â”€â†’     â”œâ”€ ä¸€å®¤è—¥å‹•å­¸æ¨¡å‹: C(t) = Câ‚€Â·e^(-kâ‚‘t)   â”‚
â”‚                                     â””â”€ Arrhenius æ–¹ç¨‹: k(T) = AÂ·e^(-Ea/RT)  â”‚
â”‚                                                                            â”‚
â”‚                                  2ï¸âƒ£ çµ„åˆæ¨å°                                â”‚
â”‚                                     â”œâ”€ ä»£å…¥ k(T) åˆ°è—¥å‹•å­¸æ¨¡å‹               â”‚
â”‚                                     â””â”€ å¾—åˆ°æº«åº¦ä¿®æ­£å…¬å¼                     â”‚
â”‚                                                                            â”‚
â”‚                                  3ï¸âƒ£ ç¬¦è™Ÿè¨ˆç®— (SymPy)                        â”‚
â”‚                                     â””â”€ C(t,T) = Câ‚€Â·exp(-kâ‚‘,refÂ·tÂ·exp(...)) â”‚
â”‚                                                                            â”‚
â”‚                                  4ï¸âƒ£ é©—è­‰çµæœ                                â”‚
â”‚                                     â”œâ”€ T=37Â°C æ™‚é€€åŒ–ç‚ºæ¨™æº–æ¨¡å‹ âœ“            â”‚
â”‚                                     â””â”€ ç¶­åº¦æª¢æŸ¥é€šé âœ“                       â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ›ï¸ æ­¥é©Ÿæ§åˆ¶åŠŸèƒ½ï¼ˆv0.2.2 æ–°å¢ï¼‰

NSForge ç¾åœ¨æä¾›**å®Œæ•´çš„æ¨å°æ­¥é©Ÿ CRUD æ§åˆ¶**ï¼š

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›ï¸ æ­¥é©Ÿæ§åˆ¶ - å°èˆªèˆ‡ç·¨è¼¯æ‚¨çš„æ¨å°éç¨‹ï¼                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   æ­¥é©Ÿ 1 â†’ æ­¥é©Ÿ 2 â†’ æ­¥é©Ÿ 3 â†’ æ­¥é©Ÿ 4 â†’ æ­¥é©Ÿ 5 â†’ æ­¥é©Ÿ 6  (ç›®å‰)            â”‚
â”‚                        â†‘                                                   â”‚
â”‚                        â”‚                                                   â”‚
â”‚   ã€Œç­‰ç­‰ï¼Œæ­¥é©Ÿ 3 çœ‹èµ·ä¾†æœ‰å•é¡Œ...ã€                                           â”‚
â”‚                                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚  ğŸ” æŸ¥è®€    â”‚ derivation_get_step(3) â†’ æŸ¥çœ‹æ­¥é©Ÿè©³æƒ…         â”‚    â”‚
â”‚   â”‚  âœï¸ æ›´æ–°    â”‚ derivation_update_step(3, notes="...") â†’ ä¿®æ­£è¨»è¨˜â”‚    â”‚
â”‚   â”‚  âª å›æ»¾    â”‚ derivation_rollback(2) â†’ è¿”å›æ­¥é©Ÿ 2           â”‚    â”‚
â”‚   â”‚  ğŸ“ æ’å…¥    â”‚ derivation_insert_note(2, "...") â†’ åŠ å…¥èªªæ˜    â”‚    â”‚
â”‚   â”‚  ğŸ—‘ï¸ åˆªé™¤    â”‚ derivation_delete_step(6) â†’ åˆªé™¤æœ€å¾Œä¸€æ­¥     â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                            â”‚
â”‚   å›æ»¾å¾Œï¼šæ­¥é©Ÿ 1 â†’ æ­¥é©Ÿ 2  (ç¾åœ¨çš„ä½ç½®)                                    â”‚
â”‚   â†’ å¾æ­¥é©Ÿ 2 ç¹¼çºŒæ¨å°ï¼Œå˜—è©¦ä¸åŒçš„è·¯å¾‘ï¼                                    â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ­¥é©Ÿ CRUD å·¥å…·ï¼ˆ5 å€‹æ–°å·¥å…·ï¼‰

| å·¥å…· | æ“ä½œ | èªªæ˜ |
| ---- | ---- | ---- |
| `derivation_get_step` | **æŸ¥è®€** | å–å¾—ä»»ä¸€æ­¥é©Ÿçš„è©³æƒ…ï¼ˆè¡¨é”å¼ã€è¨»è¨˜ã€å‡è¨­ï¼‰ |
| `derivation_update_step` | **æ›´æ–°** | ä¿®æ”¹å…ƒè³‡æ–™ï¼ˆè¨»è¨˜ã€å‡è¨­ã€é™åˆ¶ï¼‰- ä¸èƒ½æ”¹è¡¨é”å¼ |
| `derivation_delete_step` | **åˆªé™¤** | åªèƒ½åˆªé™¤æœ€å¾Œä¸€æ­¥ï¼ˆå®‰å…¨é™åˆ¶ï¼‰ |
| `derivation_rollback` | **å›æ»¾** | âš¡ è·³å›ä»»ä¸€æ­¥é©Ÿï¼Œåˆªé™¤å¾ŒçºŒæ­¥é©Ÿ |
| `derivation_insert_note` | **æ’å…¥** | åœ¨ä»»ä¸€ä½ç½®æ’å…¥èªªæ˜æ€§è¨»è¨˜ |

> ğŸ’¡ **é—œéµæ¦‚å¿µ**ï¼šè¡¨é”å¼ä¸èƒ½ç›´æ¥ç·¨è¼¯ï¼ˆæœƒç ´å£é©—è­‰ï¼‰ã€‚ä½¿ç”¨ `rollback` è¿”å›æœ‰æ•ˆç‹€æ…‹ï¼Œç„¶å¾Œé‡æ–°æ¨å°ã€‚

### ä½¿ç”¨æƒ…å¢ƒ

1. **åŒå„•å¯©æŸ¥**ï¼šã€Œæ­¥é©Ÿ 5 çš„å‡è¨­æœ‰ç–‘æ…®ã€ â†’ `update_step(5, notes="åƒ…åœ¨ T<42Â°C æ™‚æœ‰æ•ˆ")`
2. **èµ°éŒ¯è·¯**ï¼šã€Œæ‡‰è©²ç”¨ç©åˆ†è€Œä¸æ˜¯å¾®åˆ†ã€ â†’ `rollback(3)` â†’ é‡æ–°é–‹å§‹
3. **åŠ å…¥èªªæ˜**ï¼šã€Œéœ€è¦è§£é‡‹ Arrhenius ä»£å…¥ã€ â†’ `insert_note(4, "æº«åº¦å°é…µç´ å‹•åŠ›å­¸çš„å½±éŸ¿...")`
4. **æ¸…é™¤éŒ¯èª¤**ï¼šã€Œæœ€å¾Œä¸€æ­¥éŒ¯äº†ã€ â†’ `delete_step(8)`

---

## ğŸ§  ç‚ºä»€éº¼éœ€è¦ NSForgeï¼Ÿ

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   å•é¡Œï¼šLLM ç›´æ¥åšæ•¸å­¸æ¨å°                                                   â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                â”‚
â”‚                                                                             â”‚
â”‚   âŒ å¯èƒ½ç®—éŒ¯ï¼ˆå¹»è¦ºï¼‰      âŒ æ¯æ¬¡ç­”æ¡ˆä¸åŒ      âŒ ç„¡æ³•é©—è­‰æ­£ç¢ºæ€§            â”‚
â”‚                                                                             â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                                             â”‚
â”‚   è§£æ±ºï¼šLLM + NSForge                                                       â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                       â”‚
â”‚                                                                             â”‚
â”‚   LLM è² è²¬ï¼š                        NSForge è² è²¬ï¼š                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚   â”‚ â€¢ ç†è§£ç”¨æˆ¶å•é¡Œ      â”‚          â”‚ â€¢ å­˜å„²é©—è­‰éçš„å…¬å¼  â”‚                 â”‚
â”‚   â”‚ â€¢ è¦åŠƒæ¨å°ç­–ç•¥      â”‚    â”€â”€â†’   â”‚ â€¢ ç²¾ç¢ºç¬¦è™Ÿè¨ˆç®—      â”‚                 â”‚
â”‚   â”‚ â€¢ è§£é‡‹çµæœ          â”‚          â”‚ â€¢ è¿½è¹¤æ¨å°ä¾†æº      â”‚                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚ â€¢ é©—è­‰çµæœæ­£ç¢ºæ€§    â”‚                 â”‚
â”‚      ã€Œç†è§£èˆ‡è¦åŠƒã€                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                       ã€Œè¨ˆç®—èˆ‡é©—è­‰ã€                        â”‚
â”‚                                                                             â”‚
â”‚   âœ… è¨ˆç®—ä¿è­‰æ­£ç¢º      âœ… çµæœå¯é‡ç¾      âœ… æ¨å°å¯è¿½æº¯                     â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“š æ¨å°æˆæœåº«æ¶æ§‹

NSForge å­˜å„²**æ¨å°å…¬å¼**ï¼Œä¸¦è¿½è¹¤å®Œæ•´æº¯æºï¼š

```text
formulas/
â””â”€â”€ derivations/                    â† æ‰€æœ‰æ¨å°å…¬å¼å­˜æ”¾æ–¼æ­¤
    â”œâ”€â”€ README.md                   â† æ–‡ä»¶
    â””â”€â”€ pharmacokinetics/           â† è—¥å‹•å­¸æ¨¡å‹æ¨å°
        â”œâ”€â”€ temp_corrected_elimination.md   â† æº«åº¦ä¿®æ­£æ¶ˆé™¤ç‡
        â””â”€â”€ fat_adjusted_vd.md              â† è‚¥èƒ–èª¿æ•´åˆ†å¸ƒå®¹ç©
```

### æ¯å€‹æ¨å°æˆæœåŒ…å«

- LaTeX æ•¸å­¸è¡¨é”å¼
- SymPy å¯è¨ˆç®—å½¢å¼  
- **æ¨å°ä¾†æº**ï¼šçµ„åˆäº†å“ªäº›åŸºç¤å…¬å¼
- **æ¨å°æ­¥é©Ÿ**ï¼šå¯¦éš›çš„æ¨å°éç¨‹
- **é©—è­‰ç‹€æ…‹**ï¼šç¶­åº¦åˆ†æã€æ¥µé™æƒ…æ³é©—è­‰
- è‡¨åºŠæƒ…å¢ƒèˆ‡ä½¿ç”¨æŒ‡å¼•
- YAML å…ƒè³‡æ–™ä¾›ç¨‹å¼åŒ–å­˜å–

**æ¨å°ç¯„ä¾‹ï¼š**

| æ¨å° | é ˜åŸŸ | æè¿° |
| --- | --- | --- |
| [æº«åº¦æ ¡æ­£æ¶ˆé™¤](formulas/derivations/pharmacokinetics/temp_corrected_elimination.md) | è—¥å‹•å­¸ | ä¸€æ¬¡å‹•åŠ›å­¸æ¶ˆé™¤ + Arrhenius æº«åº¦ä¾è³´ |
| [NPO æŠ—ç”Ÿç´ æ•ˆæ‡‰](formulas/derivations/pharmacokinetics/npo_antibiotic_effect.md) | PK/PD | Henderson-Hasselbalch + Emax æ¨¡å‹ï¼ˆpH ä¾è³´æ€§å¸æ”¶ï¼‰ |
| [æº«åº¦æ ¡æ­£ Michaelis-Menten](formulas/derivations/pharmacokinetics/temp_corrected_michaelis_menten.md) | è—¥å‹•å­¸ | éç·šæ€§é£½å’Œå‹•åŠ›å­¸å«æº«åº¦æ•ˆæ‡‰ |
| [Cisatracurium å¤šæ¬¡çµ¦è—¥](formulas/derived/ce30161d.yaml) | è—¥å‹•å­¸ | æ°´è§£å‹è—¥ç‰©ç´¯ç©å«æº«åº¦æ ¡æ­£ |

### NPOï¼ˆç¦é£Ÿï¼‰å°æŠ—ç”Ÿç´ æ•ˆåŠ›çš„å½±éŸ¿ç¯„ä¾‹

```yaml
id: npo_antibiotic_effect
name: NPO å°å£æœæŠ—ç”Ÿç´ æ•ˆåŠ›çš„å½±éŸ¿
expression: E_0 + (E_max * C_eff^n) / (EC_50^n + C_eff^n)
  where: C_eff = F_base * D / (Vd * (1 + 10^(pH - pKa)))
derived_from:
  - henderson_hasselbalch       # pH ä¾è³´æ€§é›¢å­åŒ–
  - emax_model                  # è—¥æ•ˆå­¸æ•ˆæ‡‰
verified: true
verification_method: sympy_symbolic_substitution
clinical_context: |
  é æ¸¬ NPO æ‚£è€…å› èƒƒå…§ pH å€¼å‡é«˜å°è‡´æŠ—ç”Ÿç´ æ•ˆåŠ›é™ä½ã€‚
  å°å¼±é…¸æ€§æŠ—ç”Ÿç´ å¦‚ Amoxicillin (pKa=2.4) ç‰¹åˆ¥é‡è¦ï¼Œ
  NPO ç‹€æ…‹å¯ä½¿æ•ˆæœé™ä½ >90%ã€‚
```

**å¦è«‹åƒé–±ï¼š**[Python å¯¦ä½œç¯„ä¾‹](examples/npo_antibiotic_analysis.py)å«è‡¨åºŠå»ºè­°ã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹è‰²

| é¡åˆ¥ | åŠŸèƒ½ |
| ---- | ---- |
| ğŸ”¢ **ç¬¦è™Ÿè¨ˆç®—** | å¾®ç©åˆ†ã€ä»£æ•¸ã€ç·šæ€§ä»£æ•¸ã€ODE/PDE |
| ğŸ“– **å…¬å¼ç®¡ç†** | å­˜å„²ã€æŸ¥è©¢ã€ç‰ˆæœ¬æ§åˆ¶ã€ä¾†æºè¿½è¹¤ |
| ğŸ”„ **æ¨å°çµ„åˆ** | å¤šå…¬å¼çµ„åˆã€è®Šæ•¸æ›¿æ›ã€æ¢ä»¶ä¿®æ”¹ |
| âœ… **çµæœé©—è­‰** | ç¶­åº¦æª¢æŸ¥ã€é‚Šç•Œæ¢ä»¶ã€é€†å‘é©—è­‰ |
| ğŸ **ç¨‹å¼ç¢¼ç”Ÿæˆ** | å¾ç¬¦è™Ÿå…¬å¼ç”Ÿæˆ Python è¨ˆç®—å‡½æ•¸ |

## ğŸ“¦ å®‰è£

### ç’°å¢ƒéœ€æ±‚

- **Python 3.12+**
- **uv** (æ¨è–¦çš„å¥—ä»¶ç®¡ç†å™¨)

```bash
# ä½¿ç”¨ uvï¼ˆæ¨è–¦ï¼‰
uv add nsforge-mcp

# æˆ–ä½¿ç”¨ pip
pip install nsforge-mcp
```

### å¾åŸå§‹ç¢¼å®‰è£

```bash
git clone https://github.com/u9401066/nsforge-mcp.git
cd nsforge-mcp

# å»ºç«‹ç’°å¢ƒä¸¦å®‰è£ä¾è³´
uv sync --all-extras

# é©—è­‰å®‰è£
uv run python -c "import nsforge; print(nsforge.__version__)"
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ä½œç‚º MCP Server

```json
// Claude Desktop é…ç½® (claude_desktop_config.json)
{
  "mcpServers": {
    "nsforge": {
      "command": "uvx",
      "args": ["nsforge-mcp"]
    }
  }
}
```

### ä½¿ç”¨ç¯„ä¾‹

**å¾®ç©åˆ†è¨ˆç®—**ï¼š

```text
ç”¨æˆ¶ï¼šè¨ˆç®— âˆ«(xÂ² + 3x)dx ä¸¦é©—è­‰çµæœ

Agent å‘¼å« NSForgeï¼š
â†’ çµæœï¼šxÂ³/3 + 3xÂ²/2 + C
â†’ é©—è­‰ï¼šd/dx(xÂ³/3 + 3xÂ²/2) = xÂ² + 3x âœ“
â†’ æ­¥é©Ÿï¼šåˆ†è§£ç©åˆ† â†’ å†ªæ¬¡è¦å‰‡ â†’ åˆä½µ
```

**ç‰©ç†æ¨å°**ï¼š

```text
ç”¨æˆ¶ï¼šç†æƒ³æ°£é«”ç­‰æº«è†¨è„¹åšçš„åŠŸï¼Ÿ

Agent å‘¼å« NSForgeï¼š
â†’ W = nRT ln(Vâ‚‚/Vâ‚)
â†’ æ¨å°ï¼šPV=nRT â†’ P=nRT/V â†’ W=âˆ«PdV â†’ ç©åˆ†
```

**æ¼”ç®—æ³•åˆ†æ**ï¼š

```text
ç”¨æˆ¶ï¼šåˆ†æ T(n) = 2T(n/2) + n

Agent å‘¼å« NSForgeï¼š
â†’ T(n) = Î˜(n log n)
â†’ æ–¹æ³•ï¼šMaster Theorem Case 2
â†’ ç¯„ä¾‹ï¼šMerge Sort
```

## ğŸ“– æ–‡æª”

### è¨­è¨ˆæ–‡æª”

- [è¨­è¨ˆæ¼”åŒ–ï¼šæ¨å°æ¡†æ¶](docs/design-evolution-derivation-framework.md) - å¾æ¨¡æ¿åˆ°å¯çµ„åˆæ¨å°æ¡†æ¶çš„æ¶æ§‹æ¼”åŒ–
- [é ˜åŸŸè¦åŠƒï¼šéŸ³éŸ¿é›»è·¯å­¸](docs/domain-audio-circuits.md) - Audio circuits principles èˆ‡ modifications
- [åŸå§‹è¨­è¨ˆ](docs/symbolic-reasoning-mcp-design.md) - å®Œæ•´æ¶æ§‹èˆ‡ API è¨­è¨ˆï¼ˆåƒè€ƒï¼‰

### å¯¦ä¾‹æ¨å°

- [Power Amp äº¤è¯é›»å®¹è¨­è¨ˆ](docs/examples/power-amp-coupling-capacitor.md) - RC é«˜é€šæ¿¾æ³¢å™¨çš„å®Œæ•´æ¨å°æµç¨‹
  - å¾ç†æƒ³å…¬å¼åˆ°å¯¦éš›è€ƒæ…®ï¼ˆè¼¸å‡ºé˜»æŠ—ã€ESRã€å–‡å­é˜»æŠ—æ›²ç·šï¼‰
  - å±•ç¤º NSForge "Principles + Modifications" æ¡†æ¶å¯¦éš›æ‡‰ç”¨

### API åƒè€ƒ

- [API åƒè€ƒ](docs/api.md) - MCP å·¥å…·è©³ç´°èªªæ˜ï¼ˆå¾…è£œï¼‰

## ğŸ› ï¸ MCP å·¥å…·

NSForge æä¾› **36 å€‹ MCP å·¥å…·**ï¼Œåˆ†ç‚º 5 å€‹æ¨¡çµ„ï¼š

### ğŸ”¥ æ¨å°å¼•æ“ (26 å€‹å·¥å…·)

| å·¥å…· | ç”¨é€” |
| ---- | ---- |
| `derivation_start` | é–‹å§‹æ–°çš„æ¨å°æœƒè©± |
| `derivation_resume` | æ¢å¾©å…ˆå‰çš„æœƒè©± |
| `derivation_status` | å–å¾—ç•¶å‰æœƒè©±ç‹€æ…‹ |
| `derivation_load_formula` | è¼‰å…¥åŸºç¤å…¬å¼ |
| `derivation_substitute` | è®Šæ•¸æ›¿æ› |
| `derivation_simplify` | ç°¡åŒ–è¡¨é”å¼ |
| `derivation_solve_for` | è§£å‡ºè®Šæ•¸ |
| `derivation_differentiate` | å¾®åˆ†è¡¨é”å¼ |
| `derivation_integrate` | ç©åˆ†è¡¨é”å¼ |
| `derivation_record_step` | è¨˜éŒ„æ­¥é©Ÿèˆ‡å‚™è¨» (**âš ï¸ å¿…é ˆå‘ç”¨æˆ¶é¡¯ç¤ºå…¬å¼ï¼**) |
| `derivation_add_note` | åŠ å…¥äººé¡æ´è¦‹ |
| `derivation_complete` | å®Œæˆä¸¦å„²å­˜ |
| `derivation_abort` | æ”¾æ£„ç•¶å‰æœƒè©± |
| `derivation_list_saved` | åˆ—å‡ºå·²å„²å­˜çš„æ¨å° |
| `derivation_get_saved` | å–å¾—å·²å„²å­˜çš„æ¨å° |
| `derivation_search_saved` | æœå°‹æ¨å° |
| `derivation_update_saved` | æ›´æ–°å…ƒè³‡æ–™ |
| `derivation_delete_saved` | åˆªé™¤æ¨å° |
| `derivation_repository_stats` | å„²å­˜åº«çµ±è¨ˆ |
| `derivation_list_sessions` | åˆ—å‡ºæ‰€æœ‰æœƒè©± |
| `derivation_get_steps` | å–å¾—æ¨å°æ­¥é©Ÿ |
| `derivation_get_step` | ğŸ†• å–å¾—å–®ä¸€æ­¥é©Ÿè©³æƒ… |
| `derivation_update_step` | ğŸ†• æ›´æ–°æ­¥é©Ÿå…ƒè³‡æ–™ |
| `derivation_delete_step` | ğŸ†• åˆªé™¤æœ€å¾Œä¸€æ­¥ |
| `derivation_rollback` | ğŸ†• âš¡ å›æ»¾åˆ°ä»»ä¸€æ­¥é©Ÿ |
| `derivation_insert_note` | ğŸ†• åœ¨æŒ‡å®šä½ç½®æ’å…¥è¨»è¨˜ |

### âœ… é©—è­‰ (6 å€‹å·¥å…·)

| å·¥å…· | ç”¨é€” |
| ---- | ---- |
| `verify_equality` | é©—è­‰å…©å€‹è¡¨é”å¼æ˜¯å¦ç›¸ç­‰ |
| `verify_derivative` | é€éç©åˆ†é©—è­‰å¾®åˆ† |
| `verify_integral` | é€éå¾®åˆ†é©—è­‰ç©åˆ† |
| `verify_solution` | é©—è­‰æ–¹ç¨‹å¼è§£ |
| `check_dimensions` | ç¶­åº¦åˆ†æ |
| `reverse_verify` | é€†å‘æ“ä½œé©—è­‰ |

### ğŸ”¢ è¨ˆç®— (2 å€‹å·¥å…·)

| å·¥å…· | ç”¨é€” |
| ---- | ---- |
| `evaluate_numeric` | æ•¸å€¼è¨ˆç®— |
| `symbolic_equal` | ç¬¦è™Ÿç›¸ç­‰æª¢æŸ¥ |

### ğŸ“ è¡¨é”å¼ (3 å€‹å·¥å…·)

| å·¥å…· | ç”¨é€” |
| ---- | ---- |
| `parse_expression` | è§£ææ•¸å­¸è¡¨é”å¼ |
| `validate_expression` | é©—è­‰è¡¨é”å¼èªæ³• |
| `extract_symbols` | æå–ç¬¦è™Ÿèˆ‡å…ƒè³‡æ–™ |

### ğŸ’» ç¨‹å¼ç¢¼ç”Ÿæˆ (4 å€‹å·¥å…·)

| å·¥å…· | ç”¨é€” |
| ---- | ---- |
| `generate_python_function` | ç”Ÿæˆ Python å‡½æ•¸ |
| `generate_latex_derivation` | ç”Ÿæˆ LaTeX æ–‡ä»¶ |
| `generate_derivation_report` | ç”Ÿæˆ Markdown å ±å‘Š |
| `generate_sympy_script` | ç”Ÿæˆç¨ç«‹ SymPy è…³æœ¬ |

## ğŸ§  Agent Skills æ¶æ§‹

NSForge åŒ…å« **18 å€‹é å»º Skills**ï¼Œæ•™å° AI Agent å¦‚ä½•æœ‰æ•ˆä½¿ç”¨å·¥å…·ï¼š

### ğŸ”¥ NSForge å°ˆç”¨ Skills (5 å€‹)

| Skill | è§¸ç™¼è© | èªªæ˜ |
| ----- | ------ | ---- |
| `nsforge-derivation-workflow` | derive, æ¨å°, prove | å®Œæ•´æ¨å°å·¥ä½œæµå«æœƒè©±ç®¡ç† |
| `nsforge-formula-management` | list, å…¬å¼åº«, æ‰¾å…¬å¼ | æŸ¥è©¢ã€æ›´æ–°ã€åˆªé™¤å·²å„²å­˜å…¬å¼ |
| `nsforge-verification-suite` | verify, check, ç¶­åº¦ | ç­‰å¼ã€å¾®åˆ†ã€ç©åˆ†ã€ç¶­åº¦æª¢æŸ¥ |
| `nsforge-code-generation` | generate, export, LaTeX | Python å‡½æ•¸ã€å ±å‘Šã€SymPy è…³æœ¬ |
| `nsforge-quick-calculate` | calculate, simplify, solve | å¿«é€Ÿè¨ˆç®—ï¼ˆç„¡éœ€æœƒè©±ï¼‰ |

### ğŸ”§ é€šç”¨é–‹ç™¼ Skills (13 å€‹)

åŒ…å« `git-precommit`ã€`memory-updater`ã€`code-reviewer`ã€`test-generator` ç­‰ã€‚

> ğŸ“– **è©³ç´°èªªæ˜**ï¼šåƒè¦‹ [NSForge Skills ä½¿ç”¨æŒ‡å—](docs/nsforge-skills-guide.md) (588 è¡Œå®Œæ•´æ–‡ä»¶)

### é»ƒé‡‘å®ˆå‰‡ï¼šå…ˆç”¨ SymPy-MCP

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 1: SymPy-MCP åŸ·è¡Œè¨ˆç®—                                   â”‚
â”‚     intro_many([...]) â†’ introduce_expression(...) â†’             â”‚
â”‚     substitute/solve/dsolve... â†’ print_latex_expression(...)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Phase 2: NSForge è¨˜éŒ„èˆ‡å„²å­˜                                   â”‚
â”‚     derivation_record_step(...) â†’ derivation_add_note(...) â†’    â”‚
â”‚     derivation_complete(...)                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åˆ†å·¥åŸå‰‡ï¼š**

| ä»»å‹™ | å·¥å…· | åŸå›  |
|------|------|------|
| æ•¸å­¸è¨ˆç®— | SymPy-MCP | å®Œæ•´ ODE/PDE/çŸ©é™£åŠŸèƒ½ |
| å…¬å¼é¡¯ç¤º | `print_latex_expression` | æ¯æ­¥è®“ç”¨æˆ¶ç¢ºèª |
| çŸ¥è­˜å­˜æª” | NSForge | æº¯æºè¿½è¹¤ã€å¯æœå°‹ |
| ç¶­åº¦æª¢æŸ¥ | NSForge `check_dimensions` | ç‰©ç†å–®ä½é©—è­‰ |

---

## ğŸ—ï¸ å°ˆæ¡ˆçµæ§‹

æœ¬å°ˆæ¡ˆæ¡ç”¨ **DDD (Domain-Driven Design)** æ¶æ§‹ï¼ŒCore èˆ‡ MCP åˆ†é›¢ï¼š

```text
nsforge-mcp/
â”œâ”€â”€ .claude/skills/            # ğŸ§  Agent Skills (18 å€‹)
â”‚   â”œâ”€â”€ nsforge-derivation-workflow/  # æ ¸å¿ƒå·¥ä½œæµ Skill
â”‚   â”œâ”€â”€ nsforge-verification-suite/   # é©—è­‰ Skill
â”‚   â””â”€â”€ ...                           # å…¶ä»– 16 å€‹ Skills
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ nsforge/               # ğŸ”· Core Domain (ç´”é‚è¼¯ï¼Œç„¡ MCP ä¾è³´)
â”‚   â”‚   â”œâ”€â”€ domain/            # Domain Layer
â”‚   â”‚   â”‚   â”œâ”€â”€ entities.py    #   - å¯¦é«” (Expression, Derivation)
â”‚   â”‚   â”‚   â”œâ”€â”€ value_objects.py #   - å€¼ç‰©ä»¶ (MathContext, Result)
â”‚   â”‚   â”‚   â””â”€â”€ services.py    #   - é ˜åŸŸæœå‹™ä»‹é¢
â”‚   â”‚   â”œâ”€â”€ application/       # Application Layer
â”‚   â”‚   â”‚   â””â”€â”€ use_cases.py   #   - ç”¨ä¾‹ (Calculate, Derive, Verify)
â”‚   â”‚   â””â”€â”€ infrastructure/    # Infrastructure Layer
â”‚   â”‚       â”œâ”€â”€ sympy_engine.py #   - SymPy å¼•æ“å¯¦ä½œ
â”‚   â”‚       â””â”€â”€ verifier.py    #   - é©—è­‰å™¨å¯¦ä½œ
â”‚   â”‚
â”‚   â””â”€â”€ nsforge_mcp/           # ğŸ”¶ MCP Layer (Presentation)
â”‚       â”œâ”€â”€ server.py          #   - FastMCP Server
â”‚       â””â”€â”€ tools/             #   - MCP å·¥å…·å®šç¾© (36 å€‹å·¥å…·)
â”‚           â”œâ”€â”€ derivation.py  #     - ğŸ”¥ æ¨å°å¼•æ“ (26 å€‹å·¥å…·)
â”‚           â”œâ”€â”€ verify.py      #     - é©—è­‰ (6 å€‹å·¥å…·)
â”‚           â”œâ”€â”€ calculate.py   #     - è¨ˆç®— (2 å€‹å·¥å…·)
â”‚           â”œâ”€â”€ expression.py  #     - è¡¨é”å¼è§£æ (3 å€‹å·¥å…·)
â”‚           â””â”€â”€ codegen.py     #     - ç¨‹å¼ç¢¼ç”Ÿæˆ (4 å€‹å·¥å…·)
â”‚
â”œâ”€â”€ formulas/                  # ğŸ“ å…¬å¼å„²å­˜åº«
â”‚   â”œâ”€â”€ derivations/           #   - äººé¡å¯è®€ Markdown
â”‚   â”‚   â””â”€â”€ pharmacokinetics/  #     - è—¥å‹•å­¸æ¨å°ç¯„ä¾‹
â”‚   â””â”€â”€ derived/               #   - YAML å…ƒè³‡æ–™ (è‡ªå‹•ç”Ÿæˆ)
â”‚
â”œâ”€â”€ derivation_sessions/       # ğŸ’¾ æœƒè©±æŒä¹…åŒ– (JSON)
â”œâ”€â”€ docs/                      # ğŸ“– æ–‡æª”
â”‚   â””â”€â”€ nsforge-skills-guide.md #   - Skills ä½¿ç”¨æŒ‡å— (588 è¡Œ)
â”œâ”€â”€ examples/                  # ğŸ Python ç¯„ä¾‹
â”‚   â””â”€â”€ npo_antibiotic_analysis.py  # è‡¨åºŠæ‡‰ç”¨
â”œâ”€â”€ tests/                     # æ¸¬è©¦
â””â”€â”€ pyproject.toml             # å°ˆæ¡ˆé…ç½® (uv/hatch)
```

### æ¶æ§‹å„ªå‹¢

- **Core å¯ç¨ç«‹æ¸¬è©¦**ï¼šä¸ä¾è³´ MCPï¼Œå¯å–®ç¨ä½¿ç”¨ `nsforge` å¥—ä»¶
- **MCP å¯æ›¿æ›**ï¼šæœªä¾†å¯æ”¯æ´å…¶ä»–å”è­°ï¼ˆREST, gRPCï¼‰
- **ä¾è³´åè½‰**ï¼šDomain å®šç¾©ä»‹é¢ï¼ŒInfrastructure å¯¦ä½œ

## ğŸ§ª é–‹ç™¼

```bash
# Clone
git clone https://github.com/u9401066/nsforge-mcp.git
cd nsforge-mcp

# å»ºç«‹ç’°å¢ƒ (uv æœƒè‡ªå‹•ä½¿ç”¨ Python 3.12+)
uv sync --all-extras

# åŸ·è¡Œæ¸¬è©¦
uv run pytest

# ç¨‹å¼ç¢¼æª¢æŸ¥
uv run ruff check src/
uv run mypy src/

# å•Ÿå‹•é–‹ç™¼ Server
uv run nsforge-mcp
```

## ï¿½ èˆ‡ USolver å”ä½œï¼ˆå¯é¸ï¼‰

NSForge å°ˆæ³¨æ–¼**æ¨å°é ˜åŸŸä¿®æ­£å…¬å¼**ï¼Œè€Œ [USolver](https://github.com/sdiehl/usolver) å°ˆæ³¨æ–¼**æ‰¾åˆ°æœ€ä½³åƒæ•¸å€¼**ã€‚çµåˆä½¿ç”¨ï¼š

### å”ä½œæµç¨‹

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥é©Ÿ 1ï¼šNSForge æ¨å°é ˜åŸŸä¿®æ­£å…¬å¼                                â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚ derivation_start() â†’ derivation_substitute() â†’ ...             â”‚
â”‚ è¼¸å‡ºï¼šC(t, dose) = ä¿®æ­£å¾Œçš„è¡¨é”å¼                               â”‚
â”‚ è€ƒé‡ï¼šè—¥ç‰©äº¤äº’ä½œç”¨ã€é«”è„‚ã€å¹´é½¡æ•ˆæ‡‰...                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ­¥é©Ÿ 2ï¼šæº–å‚™å„ªåŒ–                                                â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚ derivation_prepare_for_optimization()                          â”‚
â”‚ è¼¸å‡ºï¼šå‡½æ•¸å­—ä¸²ã€è®Šæ•¸ã€åƒæ•¸ã€ç´„æŸæ¢ä»¶ã€USolver ç¯„æœ¬              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ­¥é©Ÿ 3ï¼šUSolver æ‰¾åˆ°æœ€ä½³å€¼                                      â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚ solve_optimization(function, constraints)                      â”‚
â”‚ è¼¸å‡ºï¼šoptimal_dose, objective_value                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç‚ºä»€éº¼è¦çµåˆï¼Ÿ

| å·¥å…· | æä¾›ä»€éº¼ | ä¾‹å­ |
| ---- | -------- | ---- |
| **NSForge** | é ˜åŸŸçŸ¥è­˜ â†’ ä¿®æ­£å…¬å¼ | è€ƒæ…®è—¥ç‰©äº¤äº’ä½œç”¨å¾Œçš„æ¿ƒåº¦å…¬å¼ |
| **USolver** | æ•¸å­¸å„ªåŒ– â†’ æœ€ä½³åƒæ•¸ | åœ¨å®‰å…¨ç¯„åœå…§çš„æœ€ä½³åŠ‘é‡ |
| **çµåˆ** | é ˜åŸŸæ™ºæ…§ + æ•¸å­¸ç²¾ç¢º | **65 æ­²é«”è„‚ 30% + midazolam â†’ 35mcg** |

### è¨­å®š

1. **å®‰è£ USolver MCP**ï¼šåƒè¦‹ [USolver æ–‡æª”](https://github.com/sdiehl/usolver#installation)
2. **ä½¿ç”¨æ©‹æ¥å·¥å…·**ï¼š`derivation_prepare_for_optimization()`
3. **åƒè€ƒå”ä½œ Skill**ï¼šè¦‹ [`.claude/skills/nsforge-usolver-collab/SKILL.md`](.claude/skills/nsforge-usolver-collab/SKILL.md)

---

## ğŸ“‹ Roadmap

- [x] è¨­è¨ˆæ–‡æª”
- [x] MVP å¯¦ä½œ
  - [x] æ¨å°å¼•æ“ (26 å€‹å·¥å…·)
  - [x] SymPy æ•´åˆ
  - [x] é©—è­‰å¥—ä»¶ (6 å€‹å·¥å…·)
  - [x] MCP Server
- [x] æ­¥é©Ÿæ§åˆ¶ç³»çµ± (v0.2.2)
  - [x] æŸ¥è®€/æ›´æ–°/åˆªé™¤æ­¥é©Ÿ
  - [x] å›æ»¾åˆ°ä»»ä¸€é»
  - [x] åœ¨ä»»ä¸€ä½ç½®æ’å…¥è¨»è¨˜
- [x] Agent Skills ç³»çµ±
  - [x] 5 å€‹ NSForge å°ˆç”¨å·¥ä½œæµ
  - [x] 13 å€‹é€šç”¨é–‹ç™¼ Skills
  - [x] Skills æ–‡æª” (1,110 è¡Œ)
- [x] è—¥å‹•å­¸é ˜åŸŸ
  - [x] æº«åº¦æ ¡æ­£æ¶ˆé™¤ç‡
  - [x] NPO æŠ—ç”Ÿç´ æ•ˆæ‡‰æ¨¡å‹
  - [x] å«æº«åº¦æ•ˆæ‡‰çš„ Michaelis-Menten
  - [x] å¤šæ¬¡çµ¦è—¥ç´¯ç©
- [x] MCP å”ä½œ (v0.2.3)
  - [x] USolver å„ªåŒ–æ©‹æ¥å·¥å…·
  - [x] å”ä½œ Skill æ–‡æª”
- [ ] é ˜åŸŸæ“´å±•
  - [ ] ç‰©ç†å…¬å¼åº«
  - [ ] éŸ³éŸ¿é›»è·¯ (é€²è¡Œä¸­)
  - [ ] æ¼”ç®—æ³•åˆ†æ
- [ ] é€²éšåŠŸèƒ½
  - [ ] Lean4 å½¢å¼é©—è­‰
  - [ ] è‡ªå‹•æ¨å°è¦åŠƒ

## ğŸ¤ è²¢ç»

æ­¡è¿è²¢ç»ï¼è«‹åƒé–± [CONTRIBUTING.md](CONTRIBUTING.md)ã€‚

## ğŸ“„ æˆæ¬Š

[Apache License 2.0](LICENSE)

---

**NSForge** â€” é€éé©—è­‰å¼æ¨å°é›é€ æ–°å…¬å¼ | *Where Neural Meets Symbolic*
