# è¨­è¨ˆæ¼”åŒ–ï¼šå¾æ¨¡æ¿ç³»çµ±åˆ°æ¨å°æ¡†æ¶

> **Date**: 2026-01-01  
> **Status**: Architecture Decision Record  
> **Impact**: ğŸ”´ Major - æ”¹è®Šæ•´å€‹ç³»çµ±æ ¸å¿ƒè¨­è¨ˆ

---

## ğŸ“œ æ¼”åŒ–æ­·ç¨‹

### åˆå§‹è¨­è¨ˆï¼ˆv0.1ï¼‰ï¼šå®Œæ•´æ¨å°æ¨¡æ¿

**æ¦‚å¿µ**ï¼šç‚ºæ¯é¡å•é¡Œé å…ˆå®šç¾©å®Œæ•´çš„æ¨å°æ­¥é©Ÿæ¨¡æ¿

```yaml
# ç¯„ä¾‹ï¼šå®‰å…¨å¸¶å¼µåŠ›åˆ†ææ¨¡æ¿
template:
  id: seatbelt_tension_analysis
  parameters: [M1, M2, v, m, k]
  steps:
    - id: 1
      formula: "M1 * v = (M1 + M2) * v_f"
      solve_for: v_f
    - id: 2
      formula: "Delta_v = v - v_f"
    - id: 3
      formula: "(1/2) * m * Delta_v**2 = (1/2) * k * x**2"
      solve_for: x
    - id: 4
      formula: "T_max = k * x"
```

**å•é¡Œ**ï¼š
- âŒ ç„¡æ³•çª®èˆ‰æ‰€æœ‰å¯èƒ½çš„å•é¡Œ
- âŒ æ¯å€‹æ–°å•é¡Œéƒ½éœ€è¦æ–°æ¨¡æ¿
- âŒ ç„¡æ³•è™•ç†å•é¡Œè®Šé«”ï¼ˆä¾‹å¦‚ï¼šåŠ å…¥æ‘©æ“¦åŠ›ï¼‰
- âŒ ç¼ºä¹ç†è«–åŸºç¤è¿½æº¯

---

### é—œéµæ´å¯Ÿï¼ˆç”¨æˆ¶å•Ÿç™¼ï¼‰

> **User**: "å…¬å¼å¯èƒ½æ˜¯è¢«è­‰æ˜çš„ï¼ˆä½†ä¹Ÿæ˜¯ç†æƒ³åŒ–çš„ï¼‰... ä½†å…¬å¼å¯ä»¥è®ŠåŒ–ï¼šä¾‹å¦‚ F=maï¼Œä½†åŠ å…¥æ‘©æ“¦åŠ›å‘¢ï¼Ÿ"

**æ ¸å¿ƒå•é¡Œ**ï¼š
1. å…¬å¼ä¾†è‡ªç†æƒ³åŒ–å®šç†ï¼ˆLean4 å¯è­‰æ˜ï¼‰
2. ç¾å¯¦å•é¡Œéœ€è¦ä¿®æ­£é …ï¼ˆfriction, drag, heat_loss...ï¼‰
3. ä¸å¯èƒ½ç‚ºæ‰€æœ‰ã€Œç†æƒ³åŒ– + ä¿®æ­£çµ„åˆã€é å…ˆå»ºæ¨¡æ¿

**é¡æ¯”**ï¼š
- âŒ éŒ¯èª¤ï¼šç‚ºæ¯é“èœé å…ˆå¯«å¥½å®Œæ•´é£Ÿè­œ
- âœ… æ­£ç¢ºï¼šæä¾›åŸºç¤çƒ¹é£ªæŠ€æ³• + é£Ÿæåº«ï¼Œå¯çµ„åˆå‰µé€ 

---

### æ–°è¨­è¨ˆï¼ˆv0.2ï¼‰ï¼šå¯çµ„åˆæ¨å°æ¡†æ¶

**æ ¸å¿ƒæ¦‚å¿µ**ï¼š`Principle + Modifications â†’ Derived Form`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åŸºç¤åŸç† (Principles)                                   â”‚
â”‚  - Newton's 2nd Law: F = ma [Lean4 è­‰æ˜ âœ“]              â”‚
â”‚  - Momentum Conservation [Lean4 è­‰æ˜ âœ“]                 â”‚
â”‚  - Energy Conservation [Lean4 è­‰æ˜ âœ“]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ + ä¿®æ­£é …
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¿®æ­£é …åº« (Modifications)                                â”‚
â”‚  - Friction: -Î¼ * N                                      â”‚
â”‚  - Air Drag: -(1/2) * Ï * vÂ² * Cd * A                   â”‚
â”‚  - Heat Loss: -h * A * Î”T                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ å‹•æ…‹çµ„åˆ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¨å°å¼•æ“ (Derivation Engine)                            â”‚
â”‚  - æ ¹æ“šå•é¡Œç‰¹å¾µé¸æ“‡ principle                            â”‚
â”‚  - æ ¹æ“šç¾å¯¦æ¢ä»¶æ·»åŠ  modifications                        â”‚
â”‚  - ç·¨è­¯æˆ sympy-mcp èª¿ç”¨åºåˆ—                             â”‚
â”‚  - é©—è­‰ç¶­åº¦å’Œåˆç†æ€§                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ çµæœ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç²¾ç¢ºè¨ˆç®— + æ¨å°è¿½æº¯ + (å¯é¸) Lean4 è­‰æ˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ æ–°æ¶æ§‹è¨­è¨ˆ

### 1. Principles Library

**æ ¼å¼**ï¼š
```yaml
# formulas/principles/newtons_second_law.yaml
principle:
  id: newtons_second_law
  name: ç‰›é “ç¬¬äºŒå®šå¾‹
  
  # åŸºç¤å½¢å¼ï¼ˆç†æƒ³åŒ–ï¼‰
  base_form: "F = m * a"
  
  # Lean4 é©—è­‰
  lean4_reference:
    module: "Mathlib.Physics.Classical.Newton"
    theorem: "newton_second_law"
    proven: true
  
  # è®Šæ•¸å®šç¾©
  variables:
    F: {description: "åˆåŠ›", unit: "N", type: "vector"}
    m: {description: "è³ªé‡", unit: "kg", type: "positive_real"}
    a: {description: "åŠ é€Ÿåº¦", unit: "m/sÂ²", type: "vector"}
  
  # é©ç”¨æ¢ä»¶
  conditions:
    - "è³ªé»è¿‘ä¼¼æˆ–å‰›é«”"
    - "æ…£æ€§åƒè€ƒç³»"
```

### 2. Modifications Library

**æ ¼å¼**ï¼š
```yaml
# formulas/modifications/friction.yaml
modification:
  id: friction
  name: æ‘©æ“¦åŠ›
  
  # æ•¸å­¸è¡¨é”
  term: "- mu * N"
  
  # ç‰©ç†æ„ç¾©
  description: |
    æ‘©æ“¦åŠ›èˆ‡æ­£å‘åŠ›æˆæ­£æ¯”ï¼Œæ–¹å‘èˆ‡é‹å‹•æ–¹å‘ç›¸å
  
  # é©ç”¨æ¢ä»¶
  conditions:
    - "æœ‰æ¥è§¸é¢"
    - "æœ‰ç›¸å°é‹å‹•æˆ–é‹å‹•è¶¨å‹¢"
  
  # è®Šæ•¸
  variables:
    mu: {description: "æ‘©æ“¦ä¿‚æ•¸", type: "positive_real", typical_range: [0, 1]}
    N: {description: "æ­£å‘åŠ›", unit: "N", type: "positive_real"}
  
  # å…¸å‹æ•¸å€¼
  typical_values:
    static_friction:
      steel_on_steel: 0.74
      rubber_on_concrete: 0.9
      ice_on_ice: 0.1
    kinetic_friction:
      steel_on_steel: 0.57
      rubber_on_concrete: 0.7
      ice_on_ice: 0.03
```

### 3. Derivation Engine (MCP Tools)

```python
@mcp.tool()
def derive_variant(
    principle_id: str,
    modifications: list[str],
    solve_for: str = None
):
    """
    æ¨å°è®Šé«”å…¬å¼
    
    Example:
        derive_variant(
            principle_id="newtons_second_law",
            modifications=["friction", "air_resistance"],
            solve_for="a"
        )
        
        è¿”å›ï¼š
        {
            "derivation_steps": [
                {"step": 0, "equation": "F = m * a", "description": "åŸºç¤å½¢å¼"},
                {"step": 1, "add": "friction", "equation": "F - Î¼N = m * a"},
                {"step": 2, "add": "air_resistance", "equation": "F - Î¼N - (1/2)ÏvÂ²CdA = m * a"},
                {"step": 3, "solve": "a", "result": "a = (F - Î¼N - (1/2)ÏvÂ²CdA) / m"}
            ],
            "final_form": "a = (F - Î¼N - (1/2)ÏvÂ²CdA) / m",
            "lean4_traceable": true
        }
    """
```

### 4. Derived Forms Library (å¯é¸å¿«æ·)

ç¤¾ç¾¤è²¢ç»çš„å¸¸è¦‹å•é¡Œé çµ„åˆï¼š

```yaml
# formulas/derived_forms/mechanics/sliding_with_friction.yaml
derived_form:
  id: sliding_with_friction
  name: æ–œé¢æ»‘å‹•ï¼ˆå«æ‘©æ“¦ï¼‰
  
  based_on:
    principle: newtons_second_law
    modifications: [gravity, friction]
  
  derivation:
    - base: "F = m * a"
    - add_gravity: "m * g * sin(Î¸) + ... = m * a"
    - add_friction: "m * g * sin(Î¸) - Î¼ * m * g * cos(Î¸) = m * a"
    - simplify: "a = g * (sin(Î¸) - Î¼ * cos(Î¸))"
  
  final_form: "a = g * (sin(theta) - mu * cos(theta))"
  
  # ä»ç„¶å¯è¿½æº¯åˆ°åŸºç¤åŸç†
  traceable_to: "newtons_second_law"
```

---

## ğŸ“ æ•™è‚²åƒ¹å€¼

### å°æ¯”ç¯„ä¾‹ï¼šæ¿•æ»‘è·¯é¢å‰è»Š

**âŒ èˆŠç³»çµ±ï¼ˆé»‘ç®±ï¼‰**
```
User: "è»Š 1500kgï¼Œ50km/hï¼Œæ¿•è·¯é¢ Î¼=0.3ï¼Œå‰è»Šè·é›¢ï¼Ÿ"
System: "å…¬å¼æ˜¯ s = vÂ²/(2Î¼g) = 32.8m"
User: "ç‚ºä»€éº¼ï¼Ÿ"
System: "..." (ç„¡æ³•è§£é‡‹)
```

**âœ… æ–°ç³»çµ±ï¼ˆå¯è¿½æº¯ï¼‰**
```
User: "è»Š 1500kgï¼Œ50km/hï¼Œæ¿•è·¯é¢ Î¼=0.3ï¼Œå‰è»Šè·é›¢ï¼Ÿ"

Agent: "è®“æˆ‘å¾åŸºç¤æ¨å°ï¼š

Step 1: åŸºç¤åŸç†
  ç‰›é “ç¬¬äºŒå®šå¾‹: F = ma
  ä¾†æº: Mathlib.Physics.Classical.Newton [Lean4 è­‰æ˜ âœ“]

Step 2: è­˜åˆ¥å—åŠ›
  å•é¡Œæåˆ°ã€Œå‰è»Šã€ã€Œæ¿•è·¯é¢ã€
  â†’ éœ€è¦æ·»åŠ  friction modification
  
Step 3: æ‡‰ç”¨ä¿®æ­£
  F = ma
  å‰è»ŠåŠ›ä¾†è‡ªæ‘©æ“¦: F = -Î¼mg
  ä»£å…¥: -Î¼mg = ma
  ç°¡åŒ–: a = -Î¼g

Step 4: é‹å‹•å­¸è¨ˆç®—
  vÂ² = vâ‚€Â² + 2as
  å‰è»Šåˆ°åœæ­¢(v=0): 0 = vâ‚€Â² + 2(-Î¼g)s
  è§£å‡º: s = vâ‚€Â²/(2Î¼g)

Step 5: ä»£å…¥æ•¸å€¼
  vâ‚€ = 50 km/h = 13.89 m/s
  s = (13.89)Â²/(2 Ã— 0.3 Ã— 9.8) = 32.8 m

çµè«–: å‰è»Šè·é›¢ 32.8 å…¬å°º"

User: "å®Œå…¨ç†è§£äº†ï¼"
```

---

## ğŸ”— èˆ‡å…¶ä»–ç³»çµ±çš„é—œä¿‚

### NSForge åœ¨ç”Ÿæ…‹ç³»çµ±ä¸­çš„ä½ç½®

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Lean4 + Mathlib (å½¢å¼åŒ–è­‰æ˜)                           â”‚
â”‚  - æä¾›åŸºç¤å®šç†çš„æ•¸å­¸è­‰æ˜                               â”‚
â”‚  - ä¿è­‰ principles çš„é‚è¼¯æ­£ç¢ºæ€§                         â”‚
â”‚  - é¡å‹æª¢æŸ¥ã€å®šç†è­‰æ˜                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ ç†è«–åŸºç¤
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NSForge (æ¨å°ç·¨æ’)                                     â”‚
â”‚  - æ©‹æ¥å½¢å¼åŒ–å®šç†å’Œå·¥ç¨‹æ‡‰ç”¨                             â”‚
â”‚  - æä¾› principles + modifications                      â”‚
â”‚  - å‹•æ…‹çµ„åˆæ¨å°                                         â”‚
â”‚  - ç¶­åº¦æª¢æŸ¥ã€åˆç†æ€§é©—è­‰                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ æ¨å°æ­¥é©Ÿ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  sympy-mcp (ç¬¦è™Ÿé‹ç®—)                                   â”‚
â”‚  - ç²¾ç¢ºåŸ·è¡Œæ¯ä¸€æ­¥è¨ˆç®—                                   â”‚
â”‚  - è§£æ–¹ç¨‹ã€ç©åˆ†ã€å¾®åˆ†                                   â”‚
â”‚  - ç¬¦è™Ÿç°¡åŒ–ã€ä»£æ•¸æ“ä½œ                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é—œéµå·®ç•°**ï¼š

| ç³»çµ± | åšä»€éº¼ | ä¸åšä»€éº¼ |
|------|--------|----------|
| **Lean4** | è­‰æ˜å®šç†çš„é‚è¼¯æ­£ç¢ºæ€§ | ä¸åšæ•¸å€¼è¨ˆç®—ã€ä¸è™•ç†å¯¦éš›å•é¡Œ |
| **NSForge** | æä¾›æ¨å°æ¡†æ¶ã€çµ„åˆå…¬å¼ | ä¸åšç¬¦è™Ÿé‹ç®—ã€ä¸åšå½¢å¼åŒ–è­‰æ˜ |
| **sympy-mcp** | åŸ·è¡Œç²¾ç¢ºç¬¦è™Ÿé‹ç®— | ä¸çŸ¥é“è©²ç”¨ä»€éº¼å…¬å¼ã€ä¸é©—è­‰ç‰©ç†æ„ç¾© |

---

## ğŸ¯ å¯¦ä½œå„ªå…ˆé †åº

### Phase 1: æ ¸å¿ƒæ¡†æ¶ (ç•¶å‰)
- [x] è¨­è¨ˆ principles æ ¼å¼
- [x] è¨­è¨ˆ modifications æ ¼å¼
- [ ] å¯¦ä½œ `derive_variant()` MCP tool
- [ ] å»ºç«‹ç¬¬ä¸€çµ„ç¯„ä¾‹ï¼šNewton's 2nd Law + friction

### Phase 2: å„ªå…ˆé ˜åŸŸï¼ˆç”¨æˆ¶èˆˆè¶£ï¼‰
- [ ] **Audio Circuits**: éŸ³éŸ¿é›»è·¯å­¸
  - Op-amp æ¿¾æ³¢å™¨è¨­è¨ˆ
  - é »ç‡éŸ¿æ‡‰åˆ†æ
  - å¤±çœŸåˆ†æ
  - é˜»æŠ—åŒ¹é…
- [ ] **Pharmacokinetics**: è—¥ç‰©å‹•åŠ›å­¸
  - ä¸€å®¤/äºŒå®¤/ä¸‰å®¤æ¨¡å‹
  - é¦–éæ•ˆæ‡‰
  - è—¥ç‰©æ¸…é™¤ç‡
  - ç©©æ…‹æ¿ƒåº¦
- [ ] Mechanics: friction, drag, springs, gravityï¼ˆåŸºç¤ï¼‰

### Phase 3: æ“´å±•é ˜åŸŸ
- [ ] General Circuits: resistance, capacitance, inductance
- [ ] Thermodynamics: heat_loss, non_ideal_gas

### Phase 4: Lean4 é€£æ¥
- [ ] æ¨™è¨»æ¯å€‹ principle çš„ Lean4 ä¾†æº
- [ ] å¯¦ä½œ `verify_with_lean4()` tool
- [ ] å»ºç«‹ Lean4 â†” NSForge æ˜ å°„

### Phase 4: ç¤¾ç¾¤ç”Ÿæ…‹
- [ ] æä¾› modification è²¢ç»æ¨¡æ¿
- [ ] å»ºç«‹ derived_forms å¯©æ ¸æ©Ÿåˆ¶
- [ ] æ–‡æª”å’Œæ•™å­¸ç¯„ä¾‹

---

## ğŸ“š éˆæ„Ÿä¾†æº

### ä¸»è¦å•Ÿç™¼

1. **ç”¨æˆ¶æ´å¯Ÿ**ï¼ˆ2026-01-01ï¼‰
   > "å…¬å¼å¯èƒ½æ˜¯è¢«è­‰æ˜çš„ï¼ˆä½†ä¹Ÿæ˜¯ç†æƒ³åŒ–çš„ï¼‰... ä½†å…¬å¼å¯ä»¥è®ŠåŒ–ï¼šä¾‹å¦‚ F=maï¼Œä½†åŠ å…¥æ‘©æ“¦åŠ›å‘¢ï¼Ÿ"
   
   **é—œéµèªçŸ¥**ï¼šä¸å¯èƒ½çª®èˆ‰æ‰€æœ‰å•é¡Œï¼Œæ‡‰è©²æä¾›å¯çµ„åˆçš„åŸºç¤å–®å…ƒ

2. **Stephen Diehl - sympy-mcp å°ˆæ¡ˆ**
   - è«–æ–‡ï¼š["The Future of Math is Weird"](https://www.stephendiehl.com/posts/future_math_weird/)
   - GitHub: https://github.com/sdiehl/sympy-mcp
   - å•Ÿç™¼ï¼šLLM ä¸æ“…é•·ç¬¦è™Ÿé‹ç®—ï¼Œæ‡‰è©²ç”¨å°ˆé–€å·¥å…·ï¼ˆsympyï¼‰

3. **Lean4 + Mathlib**
   - å½¢å¼åŒ–æ•¸å­¸è­‰æ˜ç³»çµ±
   - æä¾›ç†è«–åŸºç¤ä¾†æº
   - ä¿è­‰å…¬å¼çš„æ•¸å­¸æ­£ç¢ºæ€§

### åƒè€ƒæ¶æ§‹

- **Domain-Specific Languages (DSL)**ï¼šåŠå½¢å¼åŒ–è¡¨é”å±¤
- **Component-Based Design**ï¼šå¯çµ„åˆçš„è¨­è¨ˆæ¨¡å¼
- **Microkernel Architecture**ï¼šæ ¸å¿ƒå°ã€å¯æ“´å±•

---

## ğŸ“Š å½±éŸ¿åˆ†æ

### å°ç¾æœ‰ä»£ç¢¼çš„å½±éŸ¿

| æ¨¡çµ„ | å½±éŸ¿ | é·ç§»ç­–ç•¥ |
|------|------|----------|
| `templates/*.yaml` | ğŸ”´ æ ¼å¼æ”¹è®Š | è½‰æ›ç‚º derived_forms |
| `tools/template.py` | ğŸ”´ å¤§å¹…é‡å¯« | æ”¹ç‚º derivation.py |
| `docs/template-system-design.md` | ğŸŸ¡ éœ€æ›´æ–° | æ¨™è¨»ç‚ºèˆŠç‰ˆ |
| MCP Server æ¥å£ | ğŸŸ¢ æ–°å¢å·¥å…· | å‘å¾Œå…¼å®¹ |

### å°ç”¨æˆ¶é«”é©—çš„å½±éŸ¿

**å„ªé»**ï¼š
- âœ… å¯ä»¥è™•ç†æ›´å¤šå•é¡Œè®Šé«”
- âœ… æ¨å°éç¨‹æ¸…æ™°å¯è¿½æº¯
- âœ… æ•™è‚²åƒ¹å€¼æå‡
- âœ… ç†è«–åŸºç¤æ˜ç¢ºï¼ˆLean4ï¼‰

**æ½›åœ¨æŒ‘æˆ°**ï¼š
- âš ï¸ Agent éœ€è¦æ›´å¤šæ¨ç†ï¼ˆé¸æ“‡ modificationsï¼‰
- âš ï¸ åˆæœŸ principles æ•¸é‡æœ‰é™
- âš ï¸ éœ€è¦å»ºç«‹è‰¯å¥½çš„éŒ¯èª¤æç¤º

---

## âœ… æ±ºç­–ç¢ºèª

**æ±ºç­–**ï¼šæ¡ç”¨ã€Œå¯çµ„åˆæ¨å°æ¡†æ¶ã€å–ä»£ã€Œå®Œæ•´æ¨¡æ¿ç³»çµ±ã€

**æ‰¹å‡†**ï¼šArchitecture Decision (2026-01-01)

**ä¸‹ä¸€æ­¥**ï¼šå¯¦ä½œç¬¬ä¸€çµ„ principle (Newton's 2nd Law) + modification (friction)

---

## ğŸ“ ç›¸é—œæ–‡æª”

- åŸå§‹è¨­è¨ˆï¼š[docs/template-system-design.md](./template-system-design.md)
- æ¶æ§‹æ–‡æª”ï¼š[memory-bank/architect.md](../memory-bank/architect.md)
- æ±ºç­–æ—¥èªŒï¼š[memory-bank/decisionLog.md](../memory-bank/decisionLog.md)
- sympy-mcp ç™¼ç¾ï¼š[memory-bank/research/sympy-mcp-discovery.md](../memory-bank/research/sympy-mcp-discovery.md)

---

**Revision History**:
- 2026-01-01: åˆå§‹ç‰ˆæœ¬ - è¨˜éŒ„å¾æ¨¡æ¿åˆ°æ¡†æ¶çš„æ¼”åŒ–
