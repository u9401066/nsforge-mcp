{
  "session_id": "37e9f2bb",
  "name": "two_compartment_drug_pk",
  "description": "é›™æˆ¿å®¤è—¥ç‰©å‹•åŠ›å­¸æ¨¡å‹ - çµåˆæ¸…é™¤ç‡ã€åˆ†ä½ˆå®¹ç©èˆ‡è›‹ç™½çµåˆ",
  "status": "completed",
  "formulas": {
    "clearance": {
      "id": "clearance",
      "expression": "V_d*k_e",
      "latex": "V_{d} k_{e}",
      "variables": {
        "k_e": {
          "name": "k_e",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "V_d": {
          "name": "V_d",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        }
      },
      "source": "textbook",
      "source_detail": "",
      "original_input": "V_d*k_e",
      "input_format": "sympy",
      "name": "",
      "description": "",
      "category": "",
      "tags": [],
      "references": [],
      "created_at": "2026-01-04T23:54:23.076427"
    },
    "free_drug": {
      "id": "free_drug",
      "expression": "C_total*(1 - f_b)",
      "latex": "C_{total} \\left(1 - f_{b}\\right)",
      "variables": {
        "f_b": {
          "name": "f_b",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "C_total": {
          "name": "C_total",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        }
      },
      "source": "textbook",
      "source_detail": "",
      "original_input": "C_total*(1 - f_b)",
      "input_format": "sympy",
      "name": "",
      "description": "",
      "category": "",
      "tags": [],
      "references": [],
      "created_at": "2026-01-04T23:54:23.104426"
    },
    "effective_clearance": {
      "id": "effective_clearance",
      "expression": "CL_int*f_u",
      "latex": "CL_{int} f_{u}",
      "variables": {
        "f_u": {
          "name": "f_u",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "CL_int": {
          "name": "CL_int",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        }
      },
      "source": "textbook",
      "source_detail": "",
      "original_input": "CL_int*f_u",
      "input_format": "sympy",
      "name": "",
      "description": "",
      "category": "",
      "tags": [],
      "references": [],
      "created_at": "2026-01-04T23:54:23.104426"
    },
    "one_compartment_solution": {
      "id": "one_compartment_solution",
      "expression": "0",
      "latex": "0",
      "variables": {},
      "source": "user_input",
      "source_detail": "",
      "original_input": "C0*exp(-k*t)",
      "input_format": "sympy",
      "name": "One-compartment PK solution",
      "description": "Concentration-time solution for IV bolus one-compartment model.",
      "category": "",
      "tags": [],
      "references": [],
      "created_at": "2026-01-04T23:54:43.394510"
    },
    "k_rel": {
      "id": "k_rel",
      "expression": "Eq(k, C*L/V)",
      "latex": "k = \\frac{C L}{V}",
      "variables": {
        "V": {
          "name": "V",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "k": {
          "name": "k",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "C": {
          "name": "C",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "L": {
          "name": "L",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        }
      },
      "source": "user_input",
      "source_detail": "",
      "original_input": "k = CL/V",
      "input_format": "sympy",
      "name": "k from CL and V",
      "description": "Relation between elimination rate constant k, clearance CL, and volume V.",
      "category": "",
      "tags": [],
      "references": [],
      "created_at": "2026-01-04T23:54:48.739137"
    },
    "k_rel_expr": {
      "id": "k_rel_expr",
      "expression": "-C*L/V + k",
      "latex": "- \\frac{C L}{V} + k",
      "variables": {
        "V": {
          "name": "V",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "k": {
          "name": "k",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "C": {
          "name": "C",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "L": {
          "name": "L",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        }
      },
      "source": "user_input",
      "source_detail": "",
      "original_input": "k - CL/V",
      "input_format": "sympy",
      "name": "k_rel_expr",
      "description": "k - CL/V = 0 (relation)",
      "category": "",
      "tags": [],
      "references": [],
      "created_at": "2026-01-04T23:54:53.473728"
    },
    "k_rel_CLint": {
      "id": "k_rel_CLint",
      "expression": "-CL_int/V + k",
      "latex": "- \\frac{CL_{int}}{V} + k",
      "variables": {
        "V": {
          "name": "V",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "k": {
          "name": "k",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "CL_int": {
          "name": "CL_int",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        }
      },
      "source": "user_input",
      "source_detail": "",
      "original_input": "k - CL_int/V",
      "input_format": "sympy",
      "name": "k_rel_CLint",
      "description": "k - CL_int/V = 0 relation using CL_int symbol for clearance.",
      "category": "",
      "tags": [],
      "references": [],
      "created_at": "2026-01-04T23:55:05.315573"
    },
    "michaelis_menten_expr4": {
      "id": "michaelis_menten_expr4",
      "expression": "-a*m*s*v*x + v*(k*m + s)",
      "latex": "- a m s v x + v \\left(k m + s\\right)",
      "variables": {
        "x": {
          "name": "x",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "v": {
          "name": "v",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "m": {
          "name": "m",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "a": {
          "name": "a",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "s": {
          "name": "s",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "k": {
          "name": "k",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        }
      },
      "source": "user_input",
      "source_detail": "",
      "original_input": "v*(km + s) - vmax*s",
      "input_format": "sympy",
      "name": "Michaelisâ€“Menten (lowercase)",
      "description": "Lowercase version: v*(km + s) - vmax*s = 0",
      "category": "",
      "tags": [],
      "references": [],
      "created_at": "2026-01-04T23:55:35.833813"
    },
    "arrhenius_vmax_expr": {
      "id": "arrhenius_vmax_expr",
      "expression": "a*m*v*x - vmax_ref*exp(-a*e*(-1/t_ref + 1/t)/r)",
      "latex": "a m v x - vmax_{ref} e^{- \\frac{a e \\left(- \\frac{1}{t_{ref}} + \\frac{1}{t}\\right)}{r}}",
      "variables": {
        "x": {
          "name": "x",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "t_ref": {
          "name": "t_ref",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "v": {
          "name": "v",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "e": {
          "name": "e",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "m": {
          "name": "m",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "a": {
          "name": "a",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "vmax_ref": {
          "name": "vmax_ref",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "t": {
          "name": "t",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "r": {
          "name": "r",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        }
      },
      "source": "user_input",
      "source_detail": "",
      "original_input": "vmax - vmax_ref*exp(-ea/r*(1/t - 1/t_ref))",
      "input_format": "sympy",
      "name": "Arrhenius for Vmax (expr)",
      "description": "vmax - vmax_ref*exp(-Ea/R*(1/T - 1/T_ref)) = 0; T in K.",
      "category": "",
      "tags": [],
      "references": [],
      "created_at": "2026-01-04T23:55:43.412956"
    },
    "sigmoid_emax_expr": {
      "id": "sigmoid_emax_expr",
      "expression": "-a*c**g*e*m*x/(50**g*c*e + c**g) + e",
      "latex": "- \\frac{a c^{g} e m x}{50^{g} c e + c^{g}} + e",
      "variables": {
        "c": {
          "name": "c",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "a": {
          "name": "a",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "x": {
          "name": "x",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "g": {
          "name": "g",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "e": {
          "name": "e",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "m": {
          "name": "m",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        }
      },
      "source": "user_input",
      "source_detail": "",
      "original_input": "e - (e0 + emax*c**g/(ec50**g + c**g))",
      "input_format": "sympy",
      "name": "Sigmoid Emax (expr)",
      "description": "e - (e0 + emax*c^g/(ec50^g + c^g)) = 0, sigmoid Emax PD model.",
      "category": "",
      "tags": [],
      "references": [],
      "created_at": "2026-01-04T23:55:50.002126"
    },
    "cl_vmax_over_km": {
      "id": "cl_vmax_over_km",
      "expression": "-a*m**2*v*x/k + c*l",
      "latex": "- \\frac{a m^{2} v x}{k} + c l",
      "variables": {
        "c": {
          "name": "c",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "l": {
          "name": "l",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "a": {
          "name": "a",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "x": {
          "name": "x",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "v": {
          "name": "v",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "k": {
          "name": "k",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "m": {
          "name": "m",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        }
      },
      "source": "user_input",
      "source_detail": "",
      "original_input": "cl - vmax/km",
      "input_format": "sympy",
      "name": "CL approx from Vmax/Km",
      "description": "In low substrate regime, intrinsic clearance CL â‰ˆ Vmax / Km.",
      "category": "",
      "tags": [],
      "references": [],
      "created_at": "2026-01-04T23:55:55.112399"
    },
    "cl_T_expr": {
      "id": "cl_T_expr",
      "expression": "c*l - m*vmax_ref*exp(-a*e*(-1/t_ref + 1/t)/r)/k",
      "latex": "c l - \\frac{m vmax_{ref} e^{- \\frac{a e \\left(- \\frac{1}{t_{ref}} + \\frac{1}{t}\\right)}{r}}}{k}",
      "variables": {
        "c": {
          "name": "c",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "l": {
          "name": "l",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "t_ref": {
          "name": "t_ref",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "e": {
          "name": "e",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "m": {
          "name": "m",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "a": {
          "name": "a",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "vmax_ref": {
          "name": "vmax_ref",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "t": {
          "name": "t",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "r": {
          "name": "r",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "k": {
          "name": "k",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        }
      },
      "source": "user_input",
      "source_detail": "",
      "original_input": "cl - (vmax_ref*exp(-ea/r*(1/t - 1/t_ref)))/km",
      "input_format": "sympy",
      "name": "CL(T) derived",
      "description": "CL(T) approximated as Vmax(T)/Km with Arrhenius temperature dependence applied to Vmax.",
      "category": "",
      "tags": [],
      "references": [],
      "created_at": "2026-01-04T23:56:08.461281"
    },
    "k_T_expr": {
      "id": "k_T_expr",
      "expression": "k - m*vmax_ref*exp(-a*e*(-1/t_ref + 1/t)/r)/(k*v)",
      "latex": "k - \\frac{m vmax_{ref} e^{- \\frac{a e \\left(- \\frac{1}{t_{ref}} + \\frac{1}{t}\\right)}{r}}}{k v}",
      "variables": {
        "t_ref": {
          "name": "t_ref",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "v": {
          "name": "v",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "e": {
          "name": "e",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "m": {
          "name": "m",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "a": {
          "name": "a",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "vmax_ref": {
          "name": "vmax_ref",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "t": {
          "name": "t",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        },
        "r": {
          "name": "r",
          "description": "",
          "unit": null,
          "constraints": "real",
          "value": null
        },
        "k": {
          "name": "k",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        }
      },
      "source": "user_input",
      "source_detail": "",
      "original_input": "k - (vmax_ref*exp(-ea/r*(1/t - 1/t_ref))/km)/v",
      "input_format": "sympy",
      "name": "k(T) from CL(T)",
      "description": "k(T) = CL(T)/V, with CL(T)=Vmax(T)/Km and Arrhenius applied to Vmax.",
      "category": "",
      "tags": [],
      "references": [],
      "created_at": "2026-01-04T23:56:15.069299"
    },
    "C_t_T_expr": {
      "id": "C_t_T_expr",
      "expression": "C",
      "latex": "C",
      "variables": {
        "C": {
          "name": "C",
          "description": "",
          "unit": null,
          "constraints": "positive",
          "value": null
        }
      },
      "source": "user_input",
      "source_detail": "",
      "original_input": "C - C0*exp(- (vmax_ref*exp(-ea/r*(1/t - 1/t_ref))/(km*v)) * t)",
      "input_format": "sympy",
      "name": "C(t;T) expression",
      "description": "Concentration C(t;T) with k(T) = CL(T)/V and CL(T)=Vmax(T)/Km; Vmax(T) given by Arrhenius.",
      "category": "",
      "tags": [],
      "references": [],
      "created_at": "2026-01-04T23:56:22.417328"
    }
  },
  "current_expression": "-a*e*m*x*(C0*exp(-t*vmax_ref*exp(-ea*(-1/t_ref + 1/t)/r)/(km*v)))**g/(50**g*C0*e*exp(-t*vmax_ref*exp(-ea*(-1/t_ref + 1/t)/r)/(km*v)) + (C0*exp(-t*vmax_ref*exp(-ea*(-1/t_ref + 1/t)/r)/(km*v)))**g) + e",
  "current_formula_id": "C_t_T_expr",
  "steps": [
    {
      "step_number": 1,
      "operation": "load_formula",
      "description": "Load formula 'clearance' from textbook",
      "input_expressions": {
        "clearance": "CL = k_e * V_d"
      },
      "output_expression": "Eq(C*L, V_d*k_e)",
      "output_latex": "C L = V_{d} k_{e}",
      "sympy_command": "parse('CL = k_e * V_d')",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-03T09:29:02.172032"
    },
    {
      "step_number": 2,
      "operation": "load_formula",
      "description": "Load formula 'clearance' from textbook",
      "input_expressions": {
        "clearance": "k_e * V_d"
      },
      "output_expression": "V_d*k_e",
      "output_latex": "V_{d} k_{e}",
      "sympy_command": "parse('k_e * V_d')",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-03T09:29:06.110958"
    },
    {
      "step_number": 3,
      "operation": "custom",
      "description": "ğŸ“‹ [ASSUMPTION] æ¶ˆé™¤é€Ÿç‡å¸¸æ•¸ k_e ç¯„åœé€šå¸¸ç‚º 0.01-0.5 hâ»Â¹ï¼Œå–æ±ºæ–¼è—¥ç‰©æ€§è³ªå’Œä»£è¬é€”å¾‘\n   Related: k_e",
      "input_expressions": {
        "note_type": "assumption",
        "related_variables": "['k_e']",
        "related_step": ""
      },
      "output_expression": "V_d*k_e",
      "output_latex": "V_{d} k_{e}",
      "sympy_command": "# Note (no computation)",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-03T09:29:11.901594"
    },
    {
      "step_number": 4,
      "operation": "custom",
      "description": "ğŸ”¬ [PHYSICAL] åˆ†ä½ˆå®¹ç© V_d å°æ–¼è¦ªè„‚æ€§è—¥ç‰©å¯èƒ½è¶…éé«”é‡ï¼Œè¡¨ç¤ºè—¥ç‰©å»£æ³›åˆ†ä½ˆæ–¼çµ„ç¹”ä¸­\n   Related: V_d",
      "input_expressions": {
        "note_type": "physical",
        "related_variables": "['V_d']",
        "related_step": ""
      },
      "output_expression": "V_d*k_e",
      "output_latex": "V_{d} k_{e}",
      "sympy_command": "# Note (no computation)",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-03T09:29:11.949007"
    },
    {
      "step_number": 5,
      "operation": "load_formula",
      "description": "Load formula 'free_drug' from textbook",
      "input_expressions": {
        "free_drug": "C_total * (1 - f_b)"
      },
      "output_expression": "C_total*(1 - f_b)",
      "output_latex": "C_{total} \\left(1 - f_{b}\\right)",
      "sympy_command": "parse('C_total * (1 - f_b)')",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-03T09:29:17.230128"
    },
    {
      "step_number": 6,
      "operation": "custom",
      "description": "ğŸ¥ [CLINICAL] è›‹ç™½çµåˆç‡ f_b ç¯„åœ 0-1ï¼Œé«˜åº¦çµåˆè—¥ç‰© (f_b > 0.9) å¦‚ warfarin éœ€æ³¨æ„è—¥ç‰©äº¤äº’ä½œç”¨\n   Related: f_b",
      "input_expressions": {
        "note_type": "clinical",
        "related_variables": "['f_b']",
        "related_step": ""
      },
      "output_expression": "C_total*(1 - f_b)",
      "output_latex": "C_{total} \\left(1 - f_{b}\\right)",
      "sympy_command": "# Note (no computation)",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-03T09:29:23.047077"
    },
    {
      "step_number": 7,
      "operation": "custom",
      "description": "ğŸ’¡ [OBSERVATION] ç¸½æ¿ƒåº¦ C_total ç‚ºå¯¦é©—å®¤æ¸¬é‡å€¼ï¼Œä½†åªæœ‰æ¸¸é›¢è—¥ç‰©å…·æœ‰è—¥ç†æ´»æ€§\n   Related: C_total",
      "input_expressions": {
        "note_type": "observation",
        "related_variables": "['C_total']",
        "related_step": ""
      },
      "output_expression": "C_total*(1 - f_b)",
      "output_latex": "C_{total} \\left(1 - f_{b}\\right)",
      "sympy_command": "# Note (no computation)",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-03T09:29:23.095117"
    },
    {
      "step_number": 8,
      "operation": "load_formula",
      "description": "Load formula 'effective_clearance' from textbook",
      "input_expressions": {
        "effective_clearance": "CL_int * f_u"
      },
      "output_expression": "CL_int*f_u",
      "output_latex": "CL_{int} f_{u}",
      "sympy_command": "parse('CL_int * f_u')",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-03T09:29:27.544145"
    },
    {
      "step_number": 9,
      "operation": "custom",
      "description": "ğŸ”¬ [PHYSICAL] å…§åœ¨æ¸…é™¤ç‡ CL_int åæ˜ è‚è‡Ÿé…µç´ çš„ä»£è¬èƒ½åŠ›ï¼Œå— CYP450 èª˜å°/æŠ‘åˆ¶å½±éŸ¿\n   Related: CL_int",
      "input_expressions": {
        "note_type": "physical",
        "related_variables": "['CL_int']",
        "related_step": ""
      },
      "output_expression": "CL_int*f_u",
      "output_latex": "CL_{int} f_{u}",
      "sympy_command": "# Note (no computation)",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-03T09:29:33.017750"
    },
    {
      "step_number": 10,
      "operation": "custom",
      "description": "ğŸ¥ [CLINICAL] æ¸¸é›¢åˆ†ç‡ f_u = 1 - f_bï¼Œä½ç™½è›‹ç™½è¡€ç—‡æ‚£è€… f_u å¢åŠ ï¼Œéœ€èª¿æ•´åŠ‘é‡\n   Related: f_u, f_b",
      "input_expressions": {
        "note_type": "clinical",
        "related_variables": "['f_u', 'f_b']",
        "related_step": ""
      },
      "output_expression": "CL_int*f_u",
      "output_latex": "CL_{int} f_{u}",
      "sympy_command": "# Note (no computation)",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-03T09:29:33.066758"
    },
    {
      "step_number": 11,
      "operation": "substitute",
      "description": "å°‡æ¸¸é›¢åˆ†ç‡å®šç¾©ä»£å…¥æœ‰æ•ˆæ¸…é™¤ç‡",
      "input_expressions": {
        "original": "CL_int*f_u",
        "replacement": "f_u = 1 - f_b"
      },
      "output_expression": "CL_int*(1 - f_b)",
      "output_latex": "CL_{int} \\left(1 - f_{b}\\right)",
      "sympy_command": "expr.subs(f_u, 1 - f_b)",
      "notes": "é€™ä¸€æ­¥é€£çµäº†è›‹ç™½çµåˆç‡èˆ‡æœ‰æ•ˆæ¸…é™¤ç‡çš„é—œä¿‚",
      "assumptions": [
        "f_u = 1 - f_b (æ¸¸é›¢åˆ†ç‡èˆ‡çµåˆç‡äº’è£œ)"
      ],
      "limitations": [
        "å‡è¨­è›‹ç™½çµåˆç‚ºå¯é€†ä¸”é”å¹³è¡¡ç‹€æ…‹"
      ],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-03T09:29:40.791213"
    },
    {
      "step_number": 12,
      "operation": "custom",
      "description": "ğŸ’¡ [OBSERVATION] ç•¶ f_b æ¥è¿‘ 1 æ™‚ï¼ˆé«˜åº¦è›‹ç™½çµåˆï¼‰ï¼Œæœ‰æ•ˆæ¸…é™¤ç‡è¶¨è¿‘æ–¼é›¶ï¼Œè—¥ç‰©åŠè¡°æœŸé¡¯è‘—å»¶é•·\n   Related: f_b, CL_int\n   See step 11",
      "input_expressions": {
        "note_type": "observation",
        "related_variables": "['f_b', 'CL_int']",
        "related_step": "11"
      },
      "output_expression": "CL_int*(1 - f_b)",
      "output_latex": "CL_{int} \\left(1 - f_{b}\\right)",
      "sympy_command": "# Note (no computation)",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-03T09:29:47.167735"
    },
    {
      "step_number": 13,
      "operation": "custom",
      "description": "âš ï¸ [LIMITATION] æ­¤æ¨¡å‹å‡è¨­ç·šæ€§å‹•åŠ›å­¸ï¼Œé«˜æ¿ƒåº¦æ™‚å¯èƒ½å‡ºç¾è›‹ç™½çµåˆé£½å’Œç¾è±¡\n   Related: f_b\n   See step 11",
      "input_expressions": {
        "note_type": "limitation",
        "related_variables": "['f_b']",
        "related_step": "11"
      },
      "output_expression": "CL_int*(1 - f_b)",
      "output_latex": "CL_{int} \\left(1 - f_{b}\\right)",
      "sympy_command": "# Note (no computation)",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-03T09:29:47.199671"
    },
    {
      "step_number": 14,
      "operation": "solve",
      "description": "æ±‚è§£æ¶ˆé™¤é€Ÿç‡å¸¸æ•¸ k_eï¼Œçµåˆä¸‰å€‹å…¬å¼\n\nğŸ“ Notes: æ­¤å…¬å¼æ•´åˆäº†å…§åœ¨æ¸…é™¤ç‡ã€è›‹ç™½çµåˆç‡èˆ‡åˆ†ä½ˆå®¹ç©ä¸‰å€‹åƒæ•¸",
      "input_expressions": {
        "source": "sympy_mcp",
        "notes": "æ­¤å…¬å¼æ•´åˆäº†å…§åœ¨æ¸…é™¤ç‡ã€è›‹ç™½çµåˆç‡èˆ‡åˆ†ä½ˆå®¹ç©ä¸‰å€‹åƒæ•¸"
      },
      "output_expression": "CL_int*(1 - f_b)/V_d",
      "output_latex": "\\frac{CL_{int} \\left(1 - f_{b}\\right)}{V_{d}}",
      "sympy_command": "# From sympy_mcp: CL_int * (1 - f_b) / V_d...",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-03T09:30:23.041269"
    },
    {
      "step_number": 15,
      "operation": "custom",
      "description": "ğŸ”¬ [PHYSICAL] k_e èˆ‡ V_d æˆåæ¯”ï¼šåˆ†ä½ˆå®¹ç©å¤§çš„è—¥ç‰©ï¼ˆå¦‚è„‚æº¶æ€§è—¥ç‰©ï¼‰ï¼Œæ¶ˆé™¤é€Ÿç‡å¸¸æ•¸æœƒè¼ƒå°\n   Related: k_e, V_d\n   See step 14",
      "input_expressions": {
        "note_type": "physical",
        "related_variables": "['k_e', 'V_d']",
        "related_step": "14"
      },
      "output_expression": "CL_int*(1 - f_b)/V_d",
      "output_latex": "\\frac{CL_{int} \\left(1 - f_{b}\\right)}{V_{d}}",
      "sympy_command": "# Note (no computation)",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-03T09:30:29.214451"
    },
    {
      "step_number": 16,
      "operation": "custom",
      "description": "ğŸ¥ [CLINICAL] å¯ç”±æ­¤å…¬å¼è¨ˆç®—åŠè¡°æœŸ tÂ½ = ln(2)/k_eï¼Œç”¨æ–¼è‡¨åºŠçµ¦è—¥é–“éš”è¨­è¨ˆ\n   Related: k_e\n   See step 14",
      "input_expressions": {
        "note_type": "clinical",
        "related_variables": "['k_e']",
        "related_step": "14"
      },
      "output_expression": "CL_int*(1 - f_b)/V_d",
      "output_latex": "\\frac{CL_{int} \\left(1 - f_{b}\\right)}{V_{d}}",
      "sympy_command": "# Note (no computation)",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-03T09:30:29.256360"
    },
    {
      "step_number": 17,
      "operation": "load_formula",
      "description": "Load formula 'one_compartment_solution' from user_input",
      "input_expressions": {
        "one_compartment_solution": "C0*exp(-k*t)"
      },
      "output_expression": "0",
      "output_latex": "0",
      "sympy_command": "parse('C0*exp(-k*t)')",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-04T23:54:43.394510"
    },
    {
      "step_number": 18,
      "operation": "load_formula",
      "description": "Load formula 'k_rel' from user_input",
      "input_expressions": {
        "k_rel": "k = CL/V"
      },
      "output_expression": "Eq(k, C*L/V)",
      "output_latex": "k = \\frac{C L}{V}",
      "sympy_command": "parse('k = CL/V')",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-04T23:54:48.739137"
    },
    {
      "step_number": 19,
      "operation": "load_formula",
      "description": "Load formula 'k_rel_expr' from user_input",
      "input_expressions": {
        "k_rel_expr": "k - CL/V"
      },
      "output_expression": "-C*L/V + k",
      "output_latex": "- \\frac{C L}{V} + k",
      "sympy_command": "parse('k - CL/V')",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-04T23:54:53.473728"
    },
    {
      "step_number": 20,
      "operation": "load_formula",
      "description": "Load formula 'k_rel_CLint' from user_input",
      "input_expressions": {
        "k_rel_CLint": "k - CL_int/V"
      },
      "output_expression": "-CL_int/V + k",
      "output_latex": "- \\frac{CL_{int}}{V} + k",
      "sympy_command": "parse('k - CL_int/V')",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-04T23:55:05.316574"
    },
    {
      "step_number": 21,
      "operation": "load_formula",
      "description": "Load formula 'michaelis_menten_expr4' from user_input",
      "input_expressions": {
        "michaelis_menten_expr4": "v*(km + s) - vmax*s"
      },
      "output_expression": "-a*m*s*v*x + v*(k*m + s)",
      "output_latex": "- a m s v x + v \\left(k m + s\\right)",
      "sympy_command": "parse('v*(km + s) - vmax*s')",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-04T23:55:35.834813"
    },
    {
      "step_number": 22,
      "operation": "load_formula",
      "description": "Load formula 'arrhenius_vmax_expr' from user_input",
      "input_expressions": {
        "arrhenius_vmax_expr": "vmax - vmax_ref*exp(-ea/r*(1/t - 1/t_ref))"
      },
      "output_expression": "a*m*v*x - vmax_ref*exp(-a*e*(-1/t_ref + 1/t)/r)",
      "output_latex": "a m v x - vmax_{ref} e^{- \\frac{a e \\left(- \\frac{1}{t_{ref}} + \\frac{1}{t}\\right)}{r}}",
      "sympy_command": "parse('vmax - vmax_ref*exp(-ea/r*(1/t - 1/t_ref))')",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-04T23:55:43.414956"
    },
    {
      "step_number": 23,
      "operation": "load_formula",
      "description": "Load formula 'sigmoid_emax_expr' from user_input",
      "input_expressions": {
        "sigmoid_emax_expr": "e - (e0 + emax*c**g/(ec50**g + c**g))"
      },
      "output_expression": "-a*c**g*e*m*x/(50**g*c*e + c**g) + e",
      "output_latex": "- \\frac{a c^{g} e m x}{50^{g} c e + c^{g}} + e",
      "sympy_command": "parse('e - (e0 + emax*c**g/(ec50**g + c**g))')",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-04T23:55:50.003126"
    },
    {
      "step_number": 24,
      "operation": "load_formula",
      "description": "Load formula 'cl_vmax_over_km' from user_input",
      "input_expressions": {
        "cl_vmax_over_km": "cl - vmax/km"
      },
      "output_expression": "-a*m**2*v*x/k + c*l",
      "output_latex": "- \\frac{a m^{2} v x}{k} + c l",
      "sympy_command": "parse('cl - vmax/km')",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-04T23:55:55.112399"
    },
    {
      "step_number": 25,
      "operation": "load_formula",
      "description": "Load formula 'cl_T_expr' from user_input",
      "input_expressions": {
        "cl_T_expr": "cl - (vmax_ref*exp(-ea/r*(1/t - 1/t_ref)))/km"
      },
      "output_expression": "c*l - m*vmax_ref*exp(-a*e*(-1/t_ref + 1/t)/r)/k",
      "output_latex": "c l - \\frac{m vmax_{ref} e^{- \\frac{a e \\left(- \\frac{1}{t_{ref}} + \\frac{1}{t}\\right)}{r}}}{k}",
      "sympy_command": "parse('cl - (vmax_ref*exp(-ea/r*(1/t - 1/t_ref)))/km')",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-04T23:56:08.462282"
    },
    {
      "step_number": 26,
      "operation": "load_formula",
      "description": "Load formula 'k_T_expr' from user_input",
      "input_expressions": {
        "k_T_expr": "k - (vmax_ref*exp(-ea/r*(1/t - 1/t_ref))/km)/v"
      },
      "output_expression": "k - m*vmax_ref*exp(-a*e*(-1/t_ref + 1/t)/r)/(k*v)",
      "output_latex": "k - \\frac{m vmax_{ref} e^{- \\frac{a e \\left(- \\frac{1}{t_{ref}} + \\frac{1}{t}\\right)}{r}}}{k v}",
      "sympy_command": "parse('k - (vmax_ref*exp(-ea/r*(1/t - 1/t_ref))/km)/v')",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-04T23:56:15.070297"
    },
    {
      "step_number": 27,
      "operation": "load_formula",
      "description": "Load formula 'C_t_T_expr' from user_input",
      "input_expressions": {
        "C_t_T_expr": "C - C0*exp(- (vmax_ref*exp(-ea/r*(1/t - 1/t_ref))/(km*v)) * t)"
      },
      "output_expression": "C",
      "output_latex": "C",
      "sympy_command": "parse('C - C0*exp(- (vmax_ref*exp(-ea/r*(1/t - 1/t_ref))/(km*v)) * t)')",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-04T23:56:22.417328"
    },
    {
      "step_number": 28,
      "operation": "substitute",
      "description": "Substitute C(t;T) into PD Emax model to obtain E(t;T)",
      "input_expressions": {
        "original": "-a*c**g*e*m*x/(50**g*c*e + c**g) + e",
        "replacement": "c = C0*exp(- (vmax_ref*exp(-ea/r*(1/t - 1/t_ref))/(km*v)) * t)"
      },
      "output_expression": "-a*e*m*x*(C0*exp(-t*vmax_ref*exp(-ea*(-1/t_ref + 1/t)/r)/(km*v)))**g/(50**g*C0*e*exp(-t*vmax_ref*exp(-ea*(-1/t_ref + 1/t)/r)/(km*v)) + (C0*exp(-t*vmax_ref*exp(-ea*(-1/t_ref + 1/t)/r)/(km*v)))**g) + e",
      "output_latex": "- \\frac{a e m x \\left(C_{0} e^{- \\frac{t vmax_{ref} e^{- \\frac{ea \\left(- \\frac{1}{t_{ref}} + \\frac{1}{t}\\right)}{r}}}{km v}}\\right)^{g}}{50^{g} C_{0} e e^{- \\frac{t vmax_{ref} e^{- \\frac{ea \\left(- \\frac{1}{t_{ref}} + \\frac{1}{t}\\right)}{r}}}{km v}} + \\left(C_{0} e^{- \\frac{t vmax_{ref} e^{- \\frac{ea \\left(- \\frac{1}{t_{ref}} + \\frac{1}{t}\\right)}{r}}}{km v}}\\right)^{g}} + e",
      "sympy_command": "expr.subs(c, C0*exp(- (vmax_ref*exp(-ea/r*(1/t - 1/t_ref))/(km*v)) * t))",
      "notes": "Symbol names mapped to lowercase 'c' for concentration in the loaded PD formula",
      "assumptions": [
        "Using previously loaded C(t;T) functional form"
      ],
      "limitations": [
        "Parser symbol mapping may alter exact variable names"
      ],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-04T23:56:42.959977"
    }
  ],
  "created_at": "2026-01-03T09:28:55.532852",
  "updated_at": "2026-01-04T23:56:42.959977",
  "author": "NSForge Demo",
  "tags": []
}