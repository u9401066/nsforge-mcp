{
  "session_id": "18947cb7",
  "name": "body_composition_adjusted_vd",
  "description": "è€ƒæ…®é«”å‹åƒæ•¸ï¼ˆBW/BSA/BMIï¼‰å’Œè—¥ç‰©è„‚æº¶æ€§/æ°´æº¶æ€§çš„åˆ†å¸ƒé«”ç©æ¨å°",
  "status": "paused",
  "formulas": {
    "basic_vd": {
      "id": "basic_vd",
      "expression": "0",
      "latex": "0",
      "variables": {},
      "source": "textbook",
      "source_detail": "Basic Pharmacokinetics",
      "original_input": "D / C0",
      "input_format": "sympy",
      "name": "åŸºç¤åˆ†å¸ƒé«”ç©",
      "description": "åˆ†å¸ƒé«”ç©çš„åŸºæœ¬å®šç¾©ï¼šåŠ‘é‡é™¤ä»¥åˆå§‹æ¿ƒåº¦",
      "category": "",
      "tags": [],
      "references": [],
      "created_at": "2026-01-16T10:33:20.221953"
    }
  },
  "current_expression": "10**logP*BW*f_fat + 0.73*BW*f_lean",
  "current_formula_id": "basic_vd",
  "steps": [
    {
      "step_number": 1,
      "operation": "load_formula",
      "description": "Load formula 'basic_vd' from textbook",
      "input_expressions": {
        "basic_vd": "D / C0"
      },
      "output_expression": "0",
      "output_latex": "0",
      "sympy_command": "parse('D / C0')",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-16T10:33:20.221953"
    },
    {
      "step_number": 2,
      "operation": "custom",
      "description": "åŸºç¤åˆ†å¸ƒé«”ç©å®šç¾©\n\nğŸ“ Notes: åˆ†å¸ƒé«”ç© (Vd) æ˜¯è—¥ç‰©åœ¨é«”å…§ã€Œè¡¨è§€ã€åˆ†å¸ƒçš„ç©ºé–“å¤§å°ã€‚å®šç¾©ç‚ºåŠ‘é‡èˆ‡åˆå§‹è¡€æ¼¿æ¿ƒåº¦çš„æ¯”å€¼ã€‚é€™æ˜¯ä¸€å€‹è¡¨è§€é«”ç©ï¼Œä¸ä»£è¡¨å¯¦éš›çš„è§£å‰–ç©ºé–“ã€‚",
      "input_expressions": {
        "source": "manual",
        "notes": "åˆ†å¸ƒé«”ç© (Vd) æ˜¯è—¥ç‰©åœ¨é«”å…§ã€Œè¡¨è§€ã€åˆ†å¸ƒçš„ç©ºé–“å¤§å°ã€‚å®šç¾©ç‚ºåŠ‘é‡èˆ‡åˆå§‹è¡€æ¼¿æ¿ƒåº¦çš„æ¯”å€¼ã€‚é€™æ˜¯ä¸€å€‹è¡¨è§€é«”ç©ï¼Œä¸ä»£è¡¨å¯¦éš›çš„è§£å‰–ç©ºé–“ã€‚"
      },
      "output_expression": "D/C0",
      "output_latex": "\\frac{D}{C_{0}}",
      "sympy_command": "# From manual: D / C0...",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-16T10:34:23.319269"
    },
    {
      "step_number": 3,
      "operation": "custom",
      "description": "é«”é‡ç·šæ€§æ¨¡å‹ - æœ€ç°¡å–®çš„é«”å‹æ ¡æ­£\n\nğŸ“ Notes: æ°´æº¶æ€§è—¥ç‰©ï¼ˆlogP < 0ï¼‰çš„ Vd ä¸»è¦èˆ‡ç˜¦é«”é‡ç›¸é—œï¼Œé€šå¸¸èˆ‡ BW æˆç·šæ€§é—œä¿‚ã€‚Î± æ˜¯æ¯”ä¾‹å¸¸æ•¸ (L/kg)ï¼Œæ°´æº¶æ€§è—¥ç‰©ç´„ 0.5-0.7 L/kgã€‚",
      "input_expressions": {
        "source": "manual",
        "notes": "æ°´æº¶æ€§è—¥ç‰©ï¼ˆlogP < 0ï¼‰çš„ Vd ä¸»è¦èˆ‡ç˜¦é«”é‡ç›¸é—œï¼Œé€šå¸¸èˆ‡ BW æˆç·šæ€§é—œä¿‚ã€‚Î± æ˜¯æ¯”ä¾‹å¸¸æ•¸ (L/kg)ï¼Œæ°´æº¶æ€§è—¥ç‰©ç´„ 0.5-0.7 L/kgã€‚"
      },
      "output_expression": "BW*alpha",
      "output_latex": "BW \\alpha",
      "sympy_command": "# From manual: alpha * BW...",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-16T10:34:37.928806"
    },
    {
      "step_number": 4,
      "operation": "custom",
      "description": "ç•°é€Ÿç¸®æ”¾æ¨¡å‹ (Allometric Scaling)\n\nğŸ“ Notes: ç•°é€Ÿç¸®æ”¾æ˜¯æ›´ç²¾ç¢ºçš„é«”å‹æ ¡æ­£æ–¹æ³•ã€‚æŒ‡æ•¸ 0.75 ä¾†è‡ªç”Ÿç‰©å­¸ç¸®æ”¾å®šå¾‹ï¼ˆWest-Brown-Enquist ç†è«–ï¼‰ã€‚BW_ref é€šå¸¸è¨­ç‚º 70 kgï¼ˆæ¨™æº–æˆäººé«”é‡ï¼‰ï¼ŒV_ref ç‚ºæ¨™æº–åƒè€ƒé«”ç©ã€‚",
      "input_expressions": {
        "source": "manual",
        "notes": "ç•°é€Ÿç¸®æ”¾æ˜¯æ›´ç²¾ç¢ºçš„é«”å‹æ ¡æ­£æ–¹æ³•ã€‚æŒ‡æ•¸ 0.75 ä¾†è‡ªç”Ÿç‰©å­¸ç¸®æ”¾å®šå¾‹ï¼ˆWest-Brown-Enquist ç†è«–ï¼‰ã€‚BW_ref é€šå¸¸è¨­ç‚º 70 kgï¼ˆæ¨™æº–æˆäººé«”é‡ï¼‰ï¼ŒV_ref ç‚ºæ¨™æº–åƒè€ƒé«”ç©ã€‚"
      },
      "output_expression": "V_ref*(BW/BW_ref)**0.75",
      "output_latex": "V_{ref} \\left(\\frac{BW}{BW_{ref}}\\right)^{0.75}",
      "sympy_command": "# From manual: V_ref * (BW / BW_ref)**0.75...",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-16T10:34:59.470698"
    },
    {
      "step_number": 5,
      "operation": "custom",
      "description": "Du Bois é«”è¡¨é¢ç©å…¬å¼\n\nğŸ“ Notes: Du Bois å…¬å¼ï¼ˆ1916ï¼‰æ˜¯æœ€å¸¸ç”¨çš„ BSA è¨ˆç®—å…¬å¼ã€‚BW å–®ä½ç‚º kgï¼ŒBH å–®ä½ç‚º cmï¼Œçµæœç‚º mÂ²ã€‚æ¨™æº–æˆäºº BSA ç´„ 1.73 mÂ²ã€‚",
      "input_expressions": {
        "source": "literature",
        "notes": "Du Bois å…¬å¼ï¼ˆ1916ï¼‰æ˜¯æœ€å¸¸ç”¨çš„ BSA è¨ˆç®—å…¬å¼ã€‚BW å–®ä½ç‚º kgï¼ŒBH å–®ä½ç‚º cmï¼Œçµæœç‚º mÂ²ã€‚æ¨™æº–æˆäºº BSA ç´„ 1.73 mÂ²ã€‚"
      },
      "output_expression": "0.007184*BH**0.725*BW**0.425",
      "output_latex": "0.007184 BH^{0.725} BW^{0.425}",
      "sympy_command": "# From literature: 0.007184 * BW**0.425 * BH**0.725...",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-16T10:35:14.676329"
    },
    {
      "step_number": 6,
      "operation": "custom",
      "description": "é›™ç›¸åˆ†é…æ¨¡å‹ - æ°´ç›¸èˆ‡è„‚è‚ªç›¸\n\nğŸ“ Notes: é€™æ˜¯è€ƒæ…®è—¥ç‰©åœ¨æ°´ç›¸å’Œè„‚è‚ªç›¸åˆ†é…çš„æ ¸å¿ƒå…¬å¼ã€‚P_fat/water æ˜¯è„‚è‚ª/æ°´åˆ†é…ä¿‚æ•¸ï¼Œèˆ‡ logP ç›¸é—œï¼ˆP = 10^logPï¼‰ã€‚æ°´æº¶æ€§è—¥ç‰© P å°ï¼ˆVd â‰ˆ V_waterï¼‰ï¼Œè„‚æº¶æ€§è—¥ç‰© P å¤§ï¼ˆVd >> é«”é‡ï¼‰ã€‚",
      "input_expressions": {
        "source": "manual",
        "notes": "é€™æ˜¯è€ƒæ…®è—¥ç‰©åœ¨æ°´ç›¸å’Œè„‚è‚ªç›¸åˆ†é…çš„æ ¸å¿ƒå…¬å¼ã€‚P_fat/water æ˜¯è„‚è‚ª/æ°´åˆ†é…ä¿‚æ•¸ï¼Œèˆ‡ logP ç›¸é—œï¼ˆP = 10^logPï¼‰ã€‚æ°´æº¶æ€§è—¥ç‰© P å°ï¼ˆVd â‰ˆ V_waterï¼‰ï¼Œè„‚æº¶æ€§è—¥ç‰© P å¤§ï¼ˆVd >> é«”é‡ï¼‰ã€‚"
      },
      "output_expression": "P_fat_water*V_fat + V_water",
      "output_latex": "P_{fat water} V_{fat} + V_{water}",
      "sympy_command": "# From manual: V_water + P_fat_water * V_fat...",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-16T10:35:31.279216"
    },
    {
      "step_number": 7,
      "operation": "custom",
      "description": "å®Œæ•´é«”å‹-è„‚æº¶æ€§åˆ†å¸ƒæ¨¡å‹\n\nğŸ“ Notes: æ•´åˆæ¨¡å‹ï¼šV_water = 0.73 Ã— ç˜¦é«”é‡ï¼ˆç˜¦çµ„ç¹”å«æ°´é‡ç´„73%ï¼‰ã€‚P_fat/water = 10^logPã€‚f_lean + f_fat â‰ˆ 1ã€‚é«˜è„‚æº¶æ€§è—¥ç‰©(logP>3)çš„Vdå¯é”æ•¸ç™¾Lï¼›æ°´æº¶æ€§è—¥ç‰©(logP<0)çš„Vdç´„40-50Lã€‚",
      "input_expressions": {
        "source": "manual",
        "notes": "æ•´åˆæ¨¡å‹ï¼šV_water = 0.73 Ã— ç˜¦é«”é‡ï¼ˆç˜¦çµ„ç¹”å«æ°´é‡ç´„73%ï¼‰ã€‚P_fat/water = 10^logPã€‚f_lean + f_fat â‰ˆ 1ã€‚é«˜è„‚æº¶æ€§è—¥ç‰©(logP>3)çš„Vdå¯é”æ•¸ç™¾Lï¼›æ°´æº¶æ€§è—¥ç‰©(logP<0)çš„Vdç´„40-50Lã€‚"
      },
      "output_expression": "10**logP*BW*f_fat + 0.73*BW*f_lean",
      "output_latex": "10^{logP} BW f_{fat} + 0.73 BW f_{lean}",
      "sympy_command": "# From manual: f_lean * BW * 0.73 + 10**logP * f_fat * BW...",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-16T10:36:35.701637"
    },
    {
      "step_number": 8,
      "operation": "custom",
      "description": "BMI-logP æ•´åˆæ¨¡å‹ï¼ˆæœ€çµ‚å…¬å¼ï¼‰\n\nğŸ“ Notes: æœ€çµ‚æ•´åˆå…¬å¼ï¼ç”¨ BMI ä¼°ç®—è„‚è‚ªæ¯”ä¾‹ (f_fat â‰ˆ 1.2Ã—BMI/100 + 0.23 for adult males)ï¼Œçµåˆ logP æ±ºå®šè—¥ç‰©åˆ†é…ã€‚ç¯„ä¾‹ï¼šBMI=25, logP=3 â†’ Vd â‰ˆ 70Ã—(1000Ã—0.53 - 0.219 + 0.5621) â‰ˆ å¾ˆå¤§çš„åˆ†å¸ƒé«”ç©ï¼ˆé«˜è„‚æº¶æ€§ï¼‰",
      "input_expressions": {
        "source": "manual",
        "notes": "æœ€çµ‚æ•´åˆå…¬å¼ï¼ç”¨ BMI ä¼°ç®—è„‚è‚ªæ¯”ä¾‹ (f_fat â‰ˆ 1.2Ã—BMI/100 + 0.23 for adult males)ï¼Œçµåˆ logP æ±ºå®šè—¥ç‰©åˆ†é…ã€‚ç¯„ä¾‹ï¼šBMI=25, logP=3 â†’ Vd â‰ˆ 70Ã—(1000Ã—0.53 - 0.219 + 0.5621) â‰ˆ å¾ˆå¤§çš„åˆ†å¸ƒé«”ç©ï¼ˆé«˜è„‚æº¶æ€§ï¼‰"
      },
      "output_expression": "BW*(10**logP*(0.012*BMI + 0.23) - 0.00876*BMI + 0.5621)",
      "output_latex": "BW \\left(10^{logP} \\left(0.012 BMI + 0.23\\right) - 0.00876 BMI + 0.5621\\right)",
      "sympy_command": "# From manual: BW * (10**logP * (0.012 * BMI + 0.23) - 0.00876 * ...",
      "notes": "",
      "assumptions": [],
      "limitations": [],
      "status": "success",
      "verification_result": "",
      "timestamp": "2026-01-16T10:37:01.737551"
    }
  ],
  "created_at": "2026-01-16T10:33:09.480384",
  "updated_at": "2026-01-16T10:37:01.737551",
  "author": "NSForge",
  "tags": []
}